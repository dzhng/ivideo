var isWebKit="undefined"!==typeof navigator.userAgent.split("WebKit/")[1],isChrome=-1<navigator.userAgent.toLowerCase().indexOf("chrome"),isMozilla=0<=navigator.appVersion.indexOf("Gecko/")||0<=navigator.userAgent.indexOf("Gecko")&&!this.isWebKit&&"undefined"!==typeof navigator.appVersion;isWebKit&&console.log("WebKit browser detected");isChrome&&console.log("Chrome browser detected");isMozilla&&console.log("Mozilla browser detected");!isWebKit&&!isChrome&&!isMozilla&&console.error("Browser unsupported");var Connection=function(d,m,r){this.segment=d;this.option=m;this.position=r};Function.prototype.bind=function(d){var m=this;return function(){return m.apply(d,arguments)}};var jiffy=0,Model=function(){this.width=window.innerWidth;this.height=window.innerHeight;var d=document.getElementById("controlOverlay");d.width=this.width;d.height=this.height;this.paper=Raphael(d,this.width,this.height);this.theme=new ThemeModel(this,"default",this.width,this.height);this.player=new Player(this,this.width,this.height);this.replay=!1;this.mousey=this.mousex=0;this.mouseMoveHandler=this.mouseMove.bind(this);document.addEventListener("mousemove",this.mouseMoveHandler,!1);this.mouseUpHandler=
this.mouseUp.bind(this);document.addEventListener("mouseup",this.mouseUpHandler,!1);this.tickId=setInterval(this.timerTick.bind(this),33);this.idleCounter=15;this.theme.showHomeScreen(this.restart);this.controlsVisible=!1};Model.prototype.mouseMove=function(d){this.mousex=d.pageX;this.mousey=d.pageY;this.idleCounter=15;!0==this.controlsVisible&&this.theme.showControls(this.player.isPaused())};Model.prototype.mouseUp=function(){this.player.timerEventCanTrigger&&this.player.setSegment(this.player.timerEventSegment)};
Model.prototype.playClicked=function(){!0==this.replay&&(this.player.segment.removeVideo(),this.player.reset());this.player.playVideo();this.controlsVisible=!0;this.theme.hideHomeScreen()};Model.prototype.playVideo=function(){this.player.playVideo()};Model.prototype.pauseVideo=function(){this.player.pauseVideo()};Model.prototype.videoComplete=function(){this.replay=!0;this.theme.showHomeScreen(this.restart);this.controlsVisible=!1};
Model.prototype.showOptions=function(d){for(var m=!1,r=Array(6),C=Array(6),y=0;6>y;y++)C[y]=d.getConnectionByPosition(y);if(null!=C[0])r[0]=C[0].option,m=!0;if(null!=C[1])r[1]=C[1].option,m=!0;if(null!=C[2])r[2]=C[2].option,m=!0;if(null!=C[3])r[3]=C[3].option,m=!0;if(null!=C[4])r[4]=C[4].option,m=!0;if(null!=C[5])r[5]=C[5].option,m=!0;if(!m)return!1;this.theme.showOptions(r);this.controlsVisible=!1;this.theme.hideControls(this.player.isPaused());return!0};
Model.prototype.selectOption=function(d){this.theme.hideOptions();this.player.chooseOption(d);this.controlsVisible=!0};Model.prototype.timerTick=function(){jiffy++;0>=--this.idleCounter&&this.theme.hideControls(this.player.isPaused());var d=Math.atan((this.theme.sely-this.mousey)/(this.mousex-this.theme.selx))-Math.PI/2;0>this.mousex-this.theme.selx&&(d-=Math.PI);this.theme.rotateSelector(-360*d/(2*Math.PI));this.player.timerEventCanTrigger?this.theme.showEventIndicator():this.theme.hideEventIndicator()};var Player=function(d,m,r){this.width=m;this.height=r;this.model=d;this.reset();this.timerEventCanTrigger=!1;this.timerEventSegment=null;this.timerId=setInterval(this.timerTick.bind(this),100)};Player.prototype.reset=function(){this.segment=S1;this.segment.loadVideo(this);this.segment.setVisible();this.preloadVideo()};
Player.prototype.preloadVideo=function(){console.log("video has %d connections",this.segment.connections.length);for(var d=0;d<this.segment.connections.length;d++){var m=this.segment.connections[d].segment;m.loadVideo(this)}console.log("video has %d timed events",this.segment.timedEvents.length);for(d=0;d<this.segment.timedEvents.length;d++)m=this.segment.timedEvents[d].segment,m.loadVideo(this)};Player.prototype.playVideo=function(){this.segment.setVisible();this.segment.play()};
Player.prototype.skipToEnd=function(){};Player.prototype.pauseVideo=function(){this.segment.pause()};Player.prototype.isPaused=function(){return this.segment.video.paused};Player.prototype.setSegment=function(d){this.segment.removeVideo();this.segment=d;this.preloadVideo();this.playVideo()};Player.prototype.chooseOption=function(d){console.log("option %d choosen",d);this.setSegment(this.segment.chooseConnection(d).segment)};
Player.prototype.timerTick=function(){var d=this.segment;if(null!=d.video)if(d.video.currentTime>=d.video.duration)this.videoEnded();else{for(var m=0;m<d.timedEvents.length;m++){var r=d.timedEvents[m];if(d.video.currentTime>r.startTime&&d.video.currentTime<r.endTime){this.timerEventCanTrigger=!0;this.timerEventSegment=r.segment;return}}this.timerEventCanTrigger=!1;this.timerEventSegment=null}};
Player.prototype.videoEnded=function(){-1!=this.segment.defaultPos?(console.log("direct video detected, not showing options"),this.chooseOption(this.segment.defaultPos)):this.model.showOptions(this.segment)||this.model.videoComplete()};var Segment=function(d){this.url=d;this.defaultPos=-1;this.connections=[];this.timedEvents=[];this.player=this.video=null};Segment.prototype.setVisible=function(){this.video.style.visibility="visible"};Segment.prototype.play=function(){this.video.play()};Segment.prototype.pause=function(){this.video.pause()};Segment.prototype.getConnectionByPosition=function(d){for(var m=0;m<this.connections.length;m++)if(this.connections[m].position===d)return this.connections[m];return null};
Segment.prototype.chooseConnection=function(d){for(var m,r=0;r<this.connections.length;r++)this.connections[r].position===d?m=r:this.connections[r].segment.removeVideo();return this.connections[m]};Segment.prototype.insertDirect=function(d){this.defaultPos++;this.connections.push(new Connection(d,"",this.defaultPos))};Segment.prototype.insertConnection=function(d,m,r){this.connections.push(new Connection(d,m,r))};
Segment.prototype.insertTimedEvent=function(d,m,r){this.timedEvents.push(new TimedEvent(d,m,r))};Segment.prototype.loadVideo=function(d){this.player=d;if(null==this.video)d=document.createElement("video"),d.controls=!1,d.volume=1,d.preload="auto",d.style.visibility="hidden",d.style.position="absolute",d.width=this.player.width,d.height=this.player.height,document.body.insertBefore(d,document.getElementById("controlOverlay")),this.video=d;this.video.src=setVideoUrl(this.url);this.video.load()};
Segment.prototype.removeVideo=function(){if(null!=this.video)document.body.removeChild(this.video),this.video=null};Segment.prototype.videoEnded=function(){this.player.videoEnded()};Segment.prototype.videoLoaded=function(){this.paused?(console.log("video loaded, paused"),this.currentTime=0.1):(console.log("video loaded, playing"),this.currentTime=0.1,this.play(),setTimeout(this.play.bind(this),33))};var setVideoUrl=function(d){return""==d||null==d?null:isMozilla?"../videos/"+d+".ogv":"../videos/"+d+".mp4"};var TimedEvent=function(d,m,r){this.segment=d;this.startTime=m;this.endTime=r};(function(d){var m=/[\.\/]/,r=function(){},C=function(d,m){return d-m},y,z,O={n:{}},A=function(d,m){var r=z,w=Array.prototype.slice.call(arguments,2),i=A.listeners(d),G=0,q,N=[],U={},K=[];y=d;z=0;for(var B=0,H=i.length;B<H;B++)"zIndex"in i[B]&&(N.push(i[B].zIndex),0>i[B].zIndex&&(U[i[B].zIndex]=i[B]));for(N.sort(C);0>N[G];)if(q=U[N[G++]],K.push(q.apply(m,w)),z)return z=r,K;for(B=0;B<H;B++)if(q=i[B],"zIndex"in q)if(q.zIndex==N[G]){K.push(q.apply(m,w));if(z)return z=r,K;do if(G++,q=U[N[G]],q&&K.push(q.apply(m,
w)),z)return z=r,K;while(q)}else U[q.zIndex]=q;else if(K.push(q.apply(m,w)),z)return z=r,K;z=r;return K.length?K:null};A.listeners=function(d){var d=d.split(m),r=O,y,w,i,G,q,A,C,z,B=[r],H=[];for(G=0,q=d.length;G<q;G++){z=[];for(A=0,C=B.length;A<C;A++)for(r=B[A].n,w=[r[d[G]],r["*"]],i=2;i--;)y=w[i],y&&(z.push(y),H=H.concat(y.f||[]));B=z}return H};A.on=function(d,y){for(var A=d.split(m),w=O,i=0,G=A.length;i<G;i++)w=w.n,!w[A[i]]&&(w[A[i]]={n:{}}),w=w[A[i]];w.f=w.f||[];for(i=0,G=w.f.length;i<G;i++)if(w.f[i]==
y)return r;w.f.push(y);return function(d){+d==+d&&(y.zIndex=+d)}};A.stop=function(){z=1};A.nt=function(d){return d?RegExp("(?:\\.|\\/|^)"+d+"(?:\\.|\\/|$)").test(y):y};A.unbind=function(d,r){var y=d.split(m),w,i,A,q,C,z,K=[O];for(q=0,C=y.length;q<C;q++)for(z=0;z<K.length;z+=A.length-2){A=[z,1];w=K[z].n;if("*"!=y[q])w[y[q]]&&A.push(w[y[q]]);else for(i in w)w.hasOwnProperty(i)&&A.push(w[i]);K.splice.apply(K,A)}for(q=0,C=K.length;q<C;q++)for(w=K[q];w.n;){if(r){if(w.f){for(z=0,y=w.f.length;z<y;z++)if(w.f[z]==
r){w.f.splice(z,1);break}!w.f.length&&delete w.f}for(i in w.n)if(w.n.hasOwnProperty(i)&&w.n[i].f){A=w.n[i].f;for(z=0,y=A.length;z<y;z++)if(A[z]==r){A.splice(z,1);break}!A.length&&delete w.n[i].f}}else for(i in delete w.f,w.n)w.n.hasOwnProperty(i)&&w.n[i].f&&delete w.n[i].f;w=w.n}};A.once=function(d,m){var r=function(){m.apply(this,arguments);A.unbind(d,r)};return A.on(d,r)};A.version="0.4.0";A.toString=function(){return"You are running Eve 0.4.0"};"undefined"!=typeof module&&module.exports?module.exports=
A:d.eve=A})(this);
(function(){function d(a,j,n,u,b,c){var n=L(n),V,h,d,l,k,s,f=a.ms,o={},m={},D={};if(u)for(x=0,i=J.length;x<i;x++){var P=J[x];if(P.el.id==j.id&&P.anim==a){P.percent!=n?(J.splice(x,1),d=1):h=P;j.attr(P.totalOrigin);break}}else u=+m;for(var x=0,i=a.percents.length;x<i;x++){if(a.percents[x]==n||a.percents[x]>u*a.top){n=a.percents[x];k=a.percents[x-1]||0;f=f/a.top*(n-k);l=a.percents[x+1];V=a.anim[n];break}u&&j.attr(a.anim[a.percents[x]])}if(V){if(h)h.initstatus=u,h.start=new Date-h.ms*u;else{for(var p in V)if(V[G](p)&&
(ja[G](p)||j.paper.customAttributes[G](p)))switch(o[p]=j.attr(p),null==o[p]&&(o[p]=Na[p]),m[p]=V[p],ja[p]){case t:D[p]=(m[p]-o[p])/f;break;case "colour":o[p]=g.getRGB(o[p]);x=g.getRGB(m[p]);D[p]={r:(x.r-o[p].r)/f,g:(x.g-o[p].g)/f,b:(x.b-o[p].b)/f};break;case "path":var x=aa(o[p],m[p]),v=x[1];o[p]=x[0];D[p]=[];for(x=0,i=o[p].length;x<i;x++){D[p][x]=[0];for(var q=1,w=o[p][x].length;q<w;q++)D[p][x][q]=(v[x][q]-o[p][x][q])/f}break;case "transform":x=j._;if(v=Oa(x[p],m[p])){o[p]=v.from;m[p]=v.to;D[p]=
[];D[p].real=!0;for(x=0,i=o[p].length;x<i;x++){D[p][x]=[o[p][x][0]];for(q=1,w=o[p][x].length;q<w;q++)D[p][x][q]=(m[p][x][q]-o[p][x][q])/f}}else v=j.matrix||new y,x={_:{transform:x.transform},getBBox:function(){return j.getBBox(1)}},o[p]=[v.a,v.b,v.c,v.d,v.e,v.f],Pa(x,m[p]),m[p]=x._.transform,D[p]=[(x.matrix.a-v.a)/f,(x.matrix.b-v.b)/f,(x.matrix.c-v.c)/f,(x.matrix.d-v.d)/f,(x.matrix.e-v.e)/f,(x.matrix.e-v.f)/f];break;case "csv":v=F(V[p])[e](W);i=F(o[p])[e](W);if("clip-rect"==p)for(o[p]=i,D[p]=[],x=
i.length;x--;)D[p][x]=(v[x]-o[p][x])/f;m[p]=v;break;default:for(v=[][E](V[p]),i=[][E](o[p]),D[p]=[],x=j.paper.customAttributes[p].length;x--;)D[p][x]=((v[x]||0)-(i[x]||0))/f}p=V.easing;x=g.easing_formulas[p];if(!x)if((x=F(p).match(Qa))&&5==x.length)var A=x,x=function(a){return r(a,+A[1],+A[2],+A[3],+A[4],f)};else x=Ra;s=V.start||a.start||+new Date;P={anim:a,percent:n,timestamp:s,start:s+(a.del||0),status:0,initstatus:u||0,stop:!1,ms:f,easing:x,from:o,diff:D,to:m,el:j,callback:V.callback,prev:k,next:l,
repeat:c||a.times,origin:j.attr(),totalOrigin:b};J.push(P);if(u&&!h&&!d&&(P.stop=!0,P.start=new Date-f*u,1==J.length))return ka();d&&(P.start=new Date-P.ms*u);1==J.length&&xa(ka)}eve("anim.start."+j.id,j,a)}}function m(a,j){var n=[],u={};this.ms=j;this.times=1;if(a){for(var b in a)a[G](b)&&(u[L(b)]=a[b],n.push(L(b)));n.sort(Sa)}this.anim=u;this.top=n[n.length-1];this.percents=n}function r(a,j,n,u,b,c){function e(a,j){var n,u,b,c;for(b=a,u=0;8>u;u++){c=((l*b+d)*b+h)*b-a;if(s(c)<j)return b;n=(3*l*b+
2*d)*b+h;if(1.0E-6>s(n))break;b-=c/n}n=0;u=1;b=a;if(b<n)return n;if(b>u)return u;for(;n<u;){c=((l*b+d)*b+h)*b;if(s(c-a)<j)break;a>c?n=b:u=b;b=(u-n)/2+n}return b}var h=3*j,d=3*(u-j)-h,l=1-h-d,g=3*n,k=3*(b-n)-g,f=1-g-k;return function(a,j){var n=e(a,j);return((f*n+k)*n+g)*n}(a,1/(200*c))}function C(){return this.x+R+this.y+R+this.width+" \u00d7 "+this.height}function y(a,j,n,u,b,c){null!=a?(this.a=+a,this.b=+j,this.c=+n,this.d=+u,this.e=+b,this.f=+c):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=
0)}function z(a){for(var j=[],n=0,u=a.length;u-2>n;n+=2){var b=[{x:+a[n],y:+a[n+1]},{x:+a[n],y:+a[n+1]},{x:+a[n+2],y:+a[n+3]},{x:+a[n+4],y:+a[n+5]}];u-4==n?(b[0]={x:+a[n-2],y:+a[n-1]},b[3]=b[2]):n&&(b[0]={x:+a[n-2],y:+a[n-1]});j.push(["C",(-b[0].x+6*b[1].x+b[2].x)/6,(-b[0].y+6*b[1].y+b[2].y)/6,(b[1].x+6*b[2].x-b[3].x)/6,(b[1].y+6*b[2].y-b[3].y)/6,b[2].x,b[2].y])}return j}function O(){return this.hex}function A(a,j,n){function u(){var b=Array.prototype.slice.call(arguments,0),c=b.join("\u2400"),e=
u.cache=u.cache||{},h=u.count=u.count||[];if(e[G](c)){a:for(var b=h,h=c,d=0,l=b.length;d<l;d++)if(b[d]===h){b.push(b.splice(d,1)[0]);break a}return n?n(e[c]):e[c]}1E3<=h.length&&delete e[h.shift()];h.push(c);e[c]=a[H](j,b);return n?n(e[c]):e[c]}return u}function g(a){if(g.is(a,"function"))return T?a():eve.on("DOMload",a);if(g.is(a,v))return g._engine.create[H](g,a.splice(0,3+g.is(a[0],t))).add(a);var j=Array.prototype.slice.call(arguments,0);if(g.is(j[j.length-1],"function")){var n=j.pop();return T?
n.call(g._engine.create[H](g,j)):eve.on("DOMload",function(){n.call(g._engine.create[H](g,j))})}return g._engine.create[H](g,arguments)}g.version="2.0.1";g.eve=eve;var T,W=/[, ]+/,w={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},i=/\{(\d+)\}/g,G="hasOwnProperty",q={doc:document,win:window},N=Object.prototype[G].call(q.win,"Raphael"),U=q.win.Raphael,K=function(){this.ca=this.customAttributes={}},B,H="apply",E="concat",M="createTouch"in q.doc,R=" ",F=String,e="split",o="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[e](R),
f={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},b=F.prototype.toLowerCase,c=Math,h=c.max,l=c.min,s=c.abs,k=c.pow,p=c.PI,t="number",v="array",Ta=Object.prototype.toString;g._ISURL=/^url\(['"]?([^\)]+?)['"]?\)$/i;var Ua=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,
Va={NaN:1,Infinity:1,"-Infinity":1},Qa=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,la=c.round,L=parseFloat,X=parseInt,ya=F.prototype.toUpperCase,Na=g._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,
rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0},ja=g._availableAnimAttrs={blur:t,"clip-rect":"csv",cx:t,cy:t,fill:"colour","fill-opacity":t,"font-size":t,height:t,opacity:t,path:"path",r:t,rx:t,ry:t,stroke:"colour","stroke-opacity":t,"stroke-width":t,transform:"transform",width:t,x:t,y:t},ma=/\s*,\s*/,Wa=
{hs:1,rg:1},Xa=/,?([achlmqrstvxz]),?/gi,Ya=/([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,Za=/([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig,za=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig;g._radial_gradient=/^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/;var ba={},Sa=function(a,j){return L(a)-L(j)},$a=function(){},Ra=function(a){return a},na=g._rectPath=function(a,j,n,u,b){return b?[["M",a+b,j],["l",n-2*b,0],["a",b,b,0,0,1,b,b],["l",0,u-2*b],["a",b,b,0,0,1,-b,b],["l",2*b-n,0],["a",
b,b,0,0,1,-b,-b],["l",0,2*b-u],["a",b,b,0,0,1,b,-b],["z"]]:[["M",a,j],["l",n,0],["l",0,u],["l",-n,0],["z"]]},Aa=function(a,j,n,u){null==u&&(u=n);return[["M",a,j],["m",0,-u],["a",n,u,0,1,1,0,2*u],["a",n,u,0,1,1,0,-2*u],["z"]]},oa=g._getPath={path:function(a){return a.attr("path")},circle:function(a){a=a.attrs;return Aa(a.cx,a.cy,a.r)},ellipse:function(a){a=a.attrs;return Aa(a.cx,a.cy,a.rx,a.ry)},rect:function(a){a=a.attrs;return na(a.x,a.y,a.width,a.height,a.r)},image:function(a){a=a.attrs;return na(a.x,
a.y,a.width,a.height)},text:function(a){a=a._getBBox();return na(a.x,a.y,a.width,a.height)}},Ba=g.mapPath=function(a,j){if(!j)return a;var n,u,b,c,e,h,d,a=aa(a);for(b=0,e=a.length;b<e;b++){d=a[b];for(c=1,h=d.length;c<h;c+=2)n=j.x(d[c],d[c+1]),u=j.y(d[c],d[c+1]),d[c]=n,d[c+1]=u}return a};g._g=q;g.type=q.win.SVGAngle||q.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML";if("VML"==g.type){var pa=q.doc.createElement("div"),da;pa.innerHTML='<v:shape adj="1"/>';
da=pa.firstChild;da.style.behavior="url(#default#VML)";if(!da||"object"!=typeof da.adj)return g.type="";pa=null}g.svg=!(g.vml="VML"==g.type);g._Paper=K;g.fn=B=K.prototype=g.prototype;g._id=0;g._oid=0;g.is=function(a,j){j=b.call(j);return"finite"==j?!Va[G](+a):"array"==j?a instanceof Array:"null"==j&&null===a||j==typeof a&&null!==a||"object"==j&&a===Object(a)||"array"==j&&Array.isArray&&Array.isArray(a)||Ta.call(a).slice(8,-1).toLowerCase()==j};g.angle=function(a,j,n,u,b,e){return null==b?(a-=n,j-=
u,!a&&!j?0:(180*c.atan2(-j,-a)/p+540)%360):g.angle(a,j,b,e)-g.angle(n,u,b,e)};g.rad=function(a){return a%360*p/180};g.deg=function(a){return 180*a/p%360};g.snapTo=function(a,j,n){n=g.is(n,"finite")?n:10;if(g.is(a,v))for(var u=a.length;u--;){if(s(a[u]-j)<=n)return a[u]}else{a=+a;u=j%a;if(u<n)return j-u;if(u>a-n)return j-u+a}return j};g.createUUID=function(a,j){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a,j).toUpperCase()}}(/[xy]/g,function(a){var j=16*c.random()|0;return("x"==
a?j:j&3|8).toString(16)});g.setWindow=function(a){eve("setWindow",g,q.win,a);q.win=a;q.doc=q.win.document;g._engine.initWin&&g._engine.initWin(q.win)};var ea=function(a){if(g.vml){var j=/^\s+|\s+$/g,n;try{var u=new ActiveXObject("htmlfile");u.write("<body>");u.close();n=u.body}catch(b){n=createPopup().document.body}var c=n.createTextRange();ea=A(function(a){try{n.style.color=F(a).replace(j,"");var u=c.queryCommandValue("ForeColor");return"#"+("000000"+((u&255)<<16|u&65280|(u&16711680)>>>16).toString(16)).slice(-6)}catch(b){return"none"}})}else{var e=
q.doc.createElement("i");e.title="Rapha\u00ebl Colour Picker";e.style.display="none";q.doc.body.appendChild(e);ea=A(function(a){e.style.color=a;return q.doc.defaultView.getComputedStyle(e,"").getPropertyValue("color")})}return ea(a)},ab=function(){return"hsb("+[this.h,this.s,this.b]+")"},bb=function(){return"hsl("+[this.h,this.s,this.l]+")"},Ca=function(){return this.hex},Da=function(a,j,n){null==j&&g.is(a,"object")&&"r"in a&&"g"in a&&"b"in a&&(n=a.b,j=a.g,a=a.r);if(null==j&&g.is(a,"string"))n=g.getRGB(a),
a=n.r,j=n.g,n=n.b;if(1<a||1<j||1<n)a/=255,j/=255,n/=255;return[a,j,n]},Ea=function(a,j,n,u){a*=255;j*=255;n*=255;a={r:a,g:j,b:n,hex:g.rgb(a,j,n),toString:Ca};g.is(u,"finite")&&(a.opacity=u);return a};g.color=function(a){var j;g.is(a,"object")&&"h"in a&&"s"in a&&"b"in a?(j=g.hsb2rgb(a),a.r=j.r,a.g=j.g,a.b=j.b,a.hex=j.hex):g.is(a,"object")&&"h"in a&&"s"in a&&"l"in a?(j=g.hsl2rgb(a),a.r=j.r,a.g=j.g,a.b=j.b,a.hex=j.hex):(g.is(a,"string")&&(a=g.getRGB(a)),g.is(a,"object")&&"r"in a&&"g"in a&&"b"in a?(j=
g.rgb2hsl(a),a.h=j.h,a.s=j.s,a.l=j.l,j=g.rgb2hsb(a),a.v=j.b):(a={hex:"none"},a.r=a.g=a.b=a.h=a.s=a.v=a.l=-1));a.toString=Ca;return a};g.hsb2rgb=function(a,j,n,u){this.is(a,"object")&&"h"in a&&"s"in a&&"b"in a&&(n=a.b,j=a.s,a=a.h,u=a.o);a*=360;var b,c,e,h,d;a=a%360/60;d=n*j;h=d*(1-s(a%2-1));b=c=e=n-d;a=~~a;b+=[d,h,0,0,h,d][a];c+=[h,d,d,h,0,0][a];e+=[0,0,h,d,d,h][a];return Ea(b,c,e,u)};g.hsl2rgb=function(a,j,n,u){this.is(a,"object")&&"h"in a&&"s"in a&&"l"in a&&(n=a.l,j=a.s,a=a.h);if(1<a||1<j||1<n)a/=
360,j/=100,n/=100;var a=360*a,b,c,e,d,h;a=a%360/60;h=2*j*(0.5>n?n:1-n);d=h*(1-s(a%2-1));b=c=e=n-h/2;a=~~a;b+=[h,d,0,0,d,h][a];c+=[d,h,h,d,0,0][a];e+=[0,0,d,h,h,d][a];return Ea(b,c,e,u)};g.rgb2hsb=function(a,j,n){n=Da(a,j,n);a=n[0];j=n[1];n=n[2];var u,b,c;b=h(a,j,n);c=b-l(a,j,n);u=0==c?null:b==a?(j-n)/c:b==j?(n-a)/c+2:(a-j)/c+4;u=60*((u+360)%6)/360;a=0==c?0:c/b;return{h:u,s:a,b:b,toString:ab}};g.rgb2hsl=function(a,j,n){n=Da(a,j,n);a=n[0];j=n[1];n=n[2];var u,b,c,e,d;c=h(a,j,n);e=l(a,j,n);d=c-e;u=0==
d?null:c==a?(j-n)/d:c==j?(n-a)/d+2:(a-j)/d+4;u=60*((u+360)%6)/360;b=(c+e)/2;a=0==d?0:0.5>b?d/(2*b):d/(2-2*b);return{h:u,s:a,l:b,toString:bb}};g._path2string=function(){return this.join(",").replace(Xa,"$1")};g._preload=function(a,j){var n=q.doc.createElement("img");n.style.cssText="position:absolute;left:-9999em;top:-9999em";n.onload=function(){j.call(this);this.onload=null;q.doc.body.removeChild(this)};n.onerror=function(){q.doc.body.removeChild(this)};q.doc.body.appendChild(n);n.src=a};g.getRGB=
A(function(a){if(!a||(a=F(a)).indexOf("-")+1)return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O};if("none"==a)return{r:-1,g:-1,b:-1,hex:"none",toString:O};!Wa[G](a.toLowerCase().substring(0,2))&&"#"!=a.charAt()&&(a=ea(a));var j,n,b,c,d,h;if(a=a.match(Ua)){a[2]&&(b=X(a[2].substring(5),16),n=X(a[2].substring(3,5),16),j=X(a[2].substring(1,3),16));a[3]&&(b=X((d=a[3].charAt(3))+d,16),n=X((d=a[3].charAt(2))+d,16),j=X((d=a[3].charAt(1))+d,16));a[4]&&(h=a[4][e](ma),j=L(h[0]),"%"==h[0].slice(-1)&&(j*=2.55),
n=L(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),b=L(h[2]),"%"==h[2].slice(-1)&&(b*=2.55),"rgba"==a[1].toLowerCase().slice(0,4)&&(c=L(h[3])),h[3]&&"%"==h[3].slice(-1)&&(c/=100));if(a[5])return h=a[5][e](ma),j=L(h[0]),"%"==h[0].slice(-1)&&(j*=2.55),n=L(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),b=L(h[2]),"%"==h[2].slice(-1)&&(b*=2.55),("deg"==h[0].slice(-3)||"\u00b0"==h[0].slice(-1))&&(j/=360),"hsba"==a[1].toLowerCase().slice(0,4)&&(c=L(h[3])),h[3]&&"%"==h[3].slice(-1)&&(c/=100),g.hsb2rgb(j,n,b,c);if(a[6])return h=
a[6][e](ma),j=L(h[0]),"%"==h[0].slice(-1)&&(j*=2.55),n=L(h[1]),"%"==h[1].slice(-1)&&(n*=2.55),b=L(h[2]),"%"==h[2].slice(-1)&&(b*=2.55),("deg"==h[0].slice(-3)||"\u00b0"==h[0].slice(-1))&&(j/=360),"hsla"==a[1].toLowerCase().slice(0,4)&&(c=L(h[3])),h[3]&&"%"==h[3].slice(-1)&&(c/=100),g.hsl2rgb(j,n,b,c);a={r:j,g:n,b:b,toString:O};a.hex="#"+(16777216|b|n<<8|j<<16).toString(16).slice(1);g.is(c,"finite")&&(a.opacity=c);return a}return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:O}},g);g.hsb=A(function(a,
j,n){return g.hsb2rgb(a,j,n).hex});g.hsl=A(function(a,j,n){return g.hsl2rgb(a,j,n).hex});g.rgb=A(function(a,j,n){return"#"+(16777216|n|j<<8|a<<16).toString(16).slice(1)});g.getColor=function(a){var a=this.getColor.start=this.getColor.start||{h:0,s:1,b:a||0.75},j=this.hsb2rgb(a.h,a.s,a.b);a.h+=0.075;1<a.h&&(a.h=0,a.s-=0.2,0>=a.s&&(this.getColor.start={h:0,s:1,b:a.b}));return j.hex};g.getColor.reset=function(){delete this.start};g.parsePathString=A(function(a){if(!a)return null;var j={a:7,c:6,h:1,l:2,
m:2,r:4,q:4,s:4,t:2,v:1,z:0},n=[];g.is(a,v)&&g.is(a[0],v)&&(n=ca(a));n.length||F(a).replace(Ya,function(a,b,c){var e=[],a=b.toLowerCase();c.replace(za,function(a,j){j&&e.push(+j)});"m"==a&&2<e.length&&(n.push([b][E](e.splice(0,2))),a="l",b="m"==b?"l":"L");if("r"==a)n.push([b][E](e));else for(;e.length>=j[a]&&!(n.push([b][E](e.splice(0,j[a]))),!j[a]););});n.toString=g._path2string;return n});g.parseTransformString=A(function(a){if(!a)return null;var j=[];g.is(a,v)&&g.is(a[0],v)&&(j=ca(a));j.length||
F(a).replace(Za,function(a,u,c){var e=[];b.call(u);c.replace(za,function(a,j){j&&e.push(+j)});j.push([u][E](e))});j.toString=g._path2string;return j});g.findDotsAtSegment=function(a,j,n,b,e,h,d,l,g){var f=1-g,o=k(f,3),s=k(f,2),m=g*g,t=m*g,i=o*a+3*s*g*n+3*f*g*g*e+t*d,o=o*j+3*s*g*b+3*f*g*g*h+t*l,s=a+2*g*(n-a)+m*(e-2*n+a),t=j+2*g*(b-j)+m*(h-2*b+j),D=n+2*g*(e-n)+m*(d-2*e+n),m=b+2*g*(h-b)+m*(l-2*h+b),a=f*a+g*n,j=f*j+g*b,e=f*e+g*d,h=f*h+g*l,l=90-180*c.atan2(s-D,t-m)/p;(s>D||t<m)&&(l+=180);return{x:i,y:o,
m:{x:s,y:t},n:{x:D,y:m},start:{x:a,y:j},end:{x:e,y:h},alpha:l}};g._removedFactory=function(a){return function(){throw Error("Rapha\u00ebl: you are calling to method \u201c"+a+"\u201d of removed object");}};var Fa=A(function(a){if(!a)return{x:0,y:0,width:0,height:0};for(var a=aa(a),j=0,n=0,b=[],c=[],e,d=0,g=a.length;d<g;d++)e=a[d],"M"==e[0]?(j=e[1],n=e[2],b.push(j),c.push(n)):(j=cb(j,n,e[1],e[2],e[3],e[4],e[5],e[6]),b=b[E](j.min.x,j.max.x),c=c[E](j.min.y,j.max.y),j=e[5],n=e[6]);a=l[H](0,b);e=l[H](0,
c);return{x:a,y:e,width:h[H](0,b)-a,height:h[H](0,c)-e}},null,function(a){return{x:a.x,y:a.y,width:a.width,height:a.height}}),ca=function(a){var j=[];if(!g.is(a,v)||!g.is(a&&a[0],v))a=g.parsePathString(a);for(var b=0,u=a.length;b<u;b++){j[b]=[];for(var c=0,e=a[b].length;c<e;c++)j[b][c]=a[b][c]}j.toString=g._path2string;return j},db=g._pathToRelative=A(function(a){if(!g.is(a,v)||!g.is(a&&a[0],v))a=g.parsePathString(a);var j=[],n=0,c=0,e=0,h=0,d=0;"M"==a[0][0]&&(n=a[0][1],c=a[0][2],e=n,h=c,d++,j.push(["M",
n,c]));for(var l=a.length;d<l;d++){var f=j[d]=[],k=a[d];if(k[0]!=b.call(k[0]))switch(f[0]=b.call(k[0]),f[0]){case "a":f[1]=k[1];f[2]=k[2];f[3]=k[3];f[4]=k[4];f[5]=k[5];f[6]=+(k[6]-n).toFixed(3);f[7]=+(k[7]-c).toFixed(3);break;case "v":f[1]=+(k[1]-c).toFixed(3);break;case "m":e=k[1],h=k[2];default:for(var o=1,s=k.length;o<s;o++)f[o]=+(k[o]-(o%2?n:c)).toFixed(3)}else{j[d]=[];"m"==k[0]&&(e=k[1]+n,h=k[2]+c);f=0;for(o=k.length;f<o;f++)j[d][f]=k[f]}k=j[d].length;switch(j[d][0]){case "z":n=e;c=h;break;case "h":n+=
+j[d][k-1];break;case "v":c+=+j[d][k-1];break;default:n+=+j[d][k-2],c+=+j[d][k-1]}}j.toString=g._path2string;return j},0,ca),Ga=g._pathToAbsolute=A(function(a){if(!g.is(a,v)||!g.is(a&&a[0],v))a=g.parsePathString(a);if(!a||!a.length)return[["M",0,0]];var j=[],b=0,c=0,e=0,h=0,d=0;"M"==a[0][0]&&(b=+a[0][1],c=+a[0][2],e=b,h=c,d++,j[0]=["M",b,c]);for(var l,k=d,f=a.length;k<f;k++){j.push(d=[]);l=a[k];if(l[0]!=ya.call(l[0]))switch(d[0]=ya.call(l[0]),d[0]){case "A":d[1]=l[1];d[2]=l[2];d[3]=l[3];d[4]=l[4];
d[5]=l[5];d[6]=+(l[6]+b);d[7]=+(l[7]+c);break;case "V":d[1]=+l[1]+c;break;case "H":d[1]=+l[1]+b;break;case "R":for(var o=[b,c][E](l.slice(1)),s=2,p=o.length;s<p;s++)o[s]=+o[s]+b,o[++s]=+o[s]+c;j.pop();j=j[E](z(o));break;case "M":e=+l[1]+b,h=+l[2]+c;default:for(s=1,p=l.length;s<p;s++)d[s]=+l[s]+(s%2?b:c)}else if("R"==l[0])o=[b,c][E](l.slice(1)),j.pop(),j=j[E](z(o)),d=["R"][E](l.slice(-2));else{s=0;for(p=l.length;s<p;s++)d[s]=l[s]}switch(d[0]){case "Z":b=e;c=h;break;case "H":b=d[1];break;case "V":c=
d[1];break;case "M":e=d[d.length-2],h=d[d.length-1];default:b=d[d.length-2],c=d[d.length-1]}}j.toString=g._path2string;return j},null,ca),Ha=function(a,j,b,c,e,d){var h=1/3,l=2/3;return[h*a+l*b,h*j+l*c,h*e+l*b,h*d+l*c,e,d]},Ia=function(a,j,b,u,d,h,l,g,k,f){var o=120*p/180,m=p/180*(+d||0),t=[],i,v=A(function(a,b,j){var n=a*c.cos(j)-b*c.sin(j),a=a*c.sin(j)+b*c.cos(j);return{x:n,y:a}});if(f)x=f[0],i=f[1],h=f[2],D=f[3];else{i=v(a,j,-m);a=i.x;j=i.y;i=v(g,k,-m);g=i.x;k=i.y;c.cos(p/180*d);c.sin(p/180*d);
i=(a-g)/2;x=(j-k)/2;D=i*i/(b*b)+x*x/(u*u);1<D&&(D=c.sqrt(D),b*=D,u*=D);var D=b*b,P=u*u,D=(h==l?-1:1)*c.sqrt(s((D*P-D*x*x-P*i*i)/(D*x*x+P*i*i))),h=D*b*x/u+(a+g)/2,D=D*-u*i/b+(j+k)/2,x=c.asin(((j-D)/u).toFixed(9));i=c.asin(((k-D)/u).toFixed(9));x=a<h?p-x:x;i=g<h?p-i:i;0>x&&(x=2*p+x);0>i&&(i=2*p+i);l&&x>i&&(x-=2*p);!l&&i>x&&(i-=2*p)}if(s(i-x)>o){var t=i,P=g,q=k;i=x+o*(l&&i>x?1:-1);g=h+b*c.cos(i);k=D+u*c.sin(i);t=Ia(g,k,b,u,d,0,l,P,q,[i,t,h,D])}h=i-x;d=c.cos(x);o=c.sin(x);l=c.cos(i);i=c.sin(i);h=c.tan(h/
4);b=4/3*b*h;h*=4/3*u;u=[a,j];a=[a+b*o,j-h*d];j=[g+b*i,k-h*l];g=[g,k];a[0]=2*u[0]-a[0];a[1]=2*u[1]-a[1];if(f)return[a,j,g][E](t);t=[a,j,g][E](t).join()[e](",");f=[];g=0;for(k=t.length;g<k;g++)f[g]=g%2?v(t[g-1],t[g],m).y:v(t[g],t[g+1],m).x;return f},fa=function(a,b,n,c,e,d,h,l,g){var f=1-g;return{x:k(f,3)*a+3*k(f,2)*g*n+3*f*g*g*e+k(g,3)*h,y:k(f,3)*b+3*k(f,2)*g*c+3*f*g*g*d+k(g,3)*l}},cb=A(function(a,b,n,e,d,g,k,f){var o=d-2*n+a-(k-2*d+n),p=2*(n-a)-2*(d-n),i=a-n,m=(-p+c.sqrt(p*p-4*o*i))/2/o,t=(-p-c.sqrt(p*
p-4*o*i))/2/o,v=[b,f],q=[a,k],D;"1e12"<s(m)&&(m=0.5);"1e12"<s(t)&&(t=0.5);0<m&&1>m&&(D=fa(a,b,n,e,d,g,k,f,m),q.push(D.x),v.push(D.y));0<t&&1>t&&(D=fa(a,b,n,e,d,g,k,f,t),q.push(D.x),v.push(D.y));o=g-2*e+b-(f-2*g+e);p=2*(e-b)-2*(g-e);i=b-e;m=(-p+c.sqrt(p*p-4*o*i))/2/o;t=(-p-c.sqrt(p*p-4*o*i))/2/o;"1e12"<s(m)&&(m=0.5);"1e12"<s(t)&&(t=0.5);0<m&&1>m&&(D=fa(a,b,n,e,d,g,k,f,m),q.push(D.x),v.push(D.y));0<t&&1>t&&(D=fa(a,b,n,e,d,g,k,f,t),q.push(D.x),v.push(D.y));return{min:{x:l[H](0,q),y:l[H](0,v)},max:{x:h[H](0,
q),y:h[H](0,v)}}}),aa=g._path2curve=A(function(a,b){var n=Ga(a),c=b&&Ga(b),e={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},d={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},l=function(a,b){var j,c;if(!a)return["C",b.x,b.y,b.x,b.y,b.x,b.y];!(a[0]in{T:1,Q:1})&&(b.qx=b.qy=null);switch(a[0]){case "M":b.X=a[1];b.Y=a[2];break;case "A":a=["C"][E](Ia[H](0,[b.x,b.y][E](a.slice(1))));break;case "S":j=b.x+(b.x-(b.bx||b.x));c=b.y+(b.y-(b.by||b.y));a=["C",j,c][E](a.slice(1));break;case "T":b.qx=b.x+(b.x-(b.qx||b.x));
b.qy=b.y+(b.y-(b.qy||b.y));a=["C"][E](Ha(b.x,b.y,b.qx,b.qy,a[1],a[2]));break;case "Q":b.qx=a[1];b.qy=a[2];a=["C"][E](Ha(b.x,b.y,a[1],a[2],a[3],a[4]));break;case "L":a=["C"][E]([b.x,b.y,a[1],a[2],a[1],a[2]]);break;case "H":a=["C"][E]([b.x,b.y,a[1],b.y,a[1],b.y]);break;case "V":a=["C"][E]([b.x,b.y,b.x,a[1],b.x,a[1]]);break;case "Z":a=["C"][E]([b.x,b.y,b.X,b.Y,b.X,b.Y])}return a},g=function(a,b){if(7<a[b].length){a[b].shift();for(var j=a[b];j.length;)a.splice(b++,0,["C"][E](j.splice(0,6)));a.splice(b,
1);o=h(n.length,c&&c.length||0)}},k=function(a,b,j,e,d){a&&b&&"M"==a[d][0]&&"M"!=b[d][0]&&(b.splice(d,0,["M",e.x,e.y]),j.bx=0,j.by=0,j.x=a[d][1],j.y=a[d][2],o=h(n.length,c&&c.length||0))},f=0,o=h(n.length,c&&c.length||0);for(;f<o;f++){n[f]=l(n[f],e);g(n,f);c&&(c[f]=l(c[f],d));c&&g(c,f);k(n,c,e,d,f);k(c,n,d,e,f);var s=n[f],p=c&&c[f],i=s.length,m=c&&p.length;e.x=s[i-2];e.y=s[i-1];e.bx=L(s[i-4])||e.x;e.by=L(s[i-3])||e.y;d.bx=c&&(L(p[m-4])||d.x);d.by=c&&(L(p[m-3])||d.y);d.x=c&&p[m-2];d.y=c&&p[m-1]}return c?
[n,c]:n},null,ca);g._parseDots=A(function(a){for(var b=[],c=0,e=a.length;c<e;c++){var d={},h=a[c].match(/^([^:]*):?([\d\.]*)/);d.color=g.getRGB(h[1]);if(d.color.error)return null;d.color=d.color.hex;h[2]&&(d.offset=h[2]+"%");b.push(d)}for(c=1,e=b.length-1;c<e;c++)if(!b[c].offset){a=L(b[c-1].offset||0);h=0;for(d=c+1;d<e;d++)if(b[d].offset){h=b[d].offset;break}h||(h=100,d=e);h=L(h);for(h=(h-a)/(d-c+1);c<d;c++)a+=h,b[c].offset=a+"%"}return b});var ga=g._tear=function(a,b){a==b.top&&(b.top=a.prev);a==
b.bottom&&(b.bottom=a.next);a.next&&(a.next.prev=a.prev);a.prev&&(a.prev.next=a.next)};g._tofront=function(a,b){b.top!==a&&(ga(a,b),a.next=null,a.prev=b.top,b.top.next=a,b.top=a)};g._toback=function(a,b){b.bottom!==a&&(ga(a,b),a.next=b.bottom,a.prev=null,b.bottom.prev=a,b.bottom=a)};g._insertafter=function(a,b,c){ga(a,c);b==c.top&&(c.top=a);b.next&&(b.next.prev=a);a.next=b.next;a.prev=b;b.next=a};g._insertbefore=function(a,b,c){ga(a,c);b==c.bottom&&(c.bottom=a);b.prev&&(b.prev.next=a);a.prev=b.prev;
b.prev=a;a.next=b};var Pa=g._extractTransform=function(a,b){if(null==b)return a._.transform;var b=F(b).replace(/\.{3}|\u2026/g,a._.transform||""),c=g.parseTransformString(b),e=0,d=0,h=0,l=1,f=1,k=a._,o=new y;k.transform=c||[];if(c)for(var s=0,p=c.length;s<p;s++){var i=c[s],m=i.length,t=F(i[0]).toLowerCase(),v=i[0]!=t,q=v?o.invert():0,x,r,w,A,z;"t"==t&&3==m?v?(x=q.x(0,0),r=q.y(0,0),w=q.x(i[1],i[2]),A=q.y(i[1],i[2]),o.translate(w-x,A-r)):o.translate(i[1],i[2]):"r"==t?2==m?(z=z||a.getBBox(1),o.rotate(i[1],
z.x+z.width/2,z.y+z.height/2),e+=i[1]):4==m&&(v?(w=q.x(i[2],i[3]),A=q.y(i[2],i[3]),o.rotate(i[1],w,A)):o.rotate(i[1],i[2],i[3]),e+=i[1]):"s"==t?2==m||3==m?(z=z||a.getBBox(1),o.scale(i[1],i[m-1],z.x+z.width/2,z.y+z.height/2),l*=i[1],f*=i[m-1]):5==m&&(v?(w=q.x(i[3],i[4]),A=q.y(i[3],i[4]),o.scale(i[1],i[2],w,A)):o.scale(i[1],i[2],i[3],i[4]),l*=i[1],f*=i[2]):"m"==t&&7==m&&o.add(i[1],i[2],i[3],i[4],i[5],i[6]);k.dirtyT=1;a.matrix=o}a.matrix=o;k.sx=l;k.sy=f;k.deg=e;k.dx=d=o.e;k.dy=h=o.f;1==l&&1==f&&!e&&
k.bbox?(k.bbox.x+=+d,k.bbox.y+=+h):k.dirtyT=1},Ja=function(a){var b=a[0];switch(b.toLowerCase()){case "t":return[b,0,0];case "m":return[b,1,0,0,1,0,0];case "r":return 4==a.length?[b,0,a[2],a[3]]:[b,0];case "s":return 5==a.length?[b,1,1,a[3],a[4]]:3==a.length?[b,1,1]:[b,1]}},Oa=g._equaliseTransform=function(a,b){b=F(b).replace(/\.{3}|\u2026/g,a);a=g.parseTransformString(a)||[];b=g.parseTransformString(b)||[];for(var c=h(a.length,b.length),e=[],d=[],l=0,f,k,o,i;l<c;l++){o=a[l]||Ja(b[l]);i=b[l]||Ja(o);
if(o[0]!=i[0]||"r"==o[0].toLowerCase()&&(o[2]!=i[2]||o[3]!=i[3])||"s"==o[0].toLowerCase()&&(o[3]!=i[3]||o[4]!=i[4]))return;e[l]=[];d[l]=[];for(f=0,k=h(o.length,i.length);f<k;f++)f in o&&(e[l][f]=o[f]),f in i&&(d[l][f]=i[f])}return{from:e,to:d}};g._getContainer=function(a,b,c,e){var d;d=null==e&&!g.is(a,"object")?q.doc.getElementById(a):a;if(null!=d)return d.tagName?null==b?{container:d,width:d.style.pixelWidth||d.offsetWidth,height:d.style.pixelHeight||d.offsetHeight}:{container:d,width:b,height:c}:
{container:1,x:a,y:b,width:c,height:e}};g.pathToRelative=db;g._engine={};g.path2curve=aa;g.matrix=function(a,b,c,d,e,h){return new y(a,b,c,d,e,h)};(function(a){function b(a){var j=c.sqrt(d(a));a[0]&&(a[0]/=j);a[1]&&(a[1]/=j)}function d(a){return a[0]*a[0]+a[1]*a[1]}a.add=function(a,b,c,j,d,e){var n=[[],[],[]],h=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],b=[[a,c,d],[b,j,e],[0,0,1]];a&&a instanceof y&&(b=[[a.a,a.c,a.e],[a.b,a.d,a.f],[0,0,1]]);for(a=0;3>a;a++)for(c=0;3>c;c++){for(j=d=0;3>
j;j++)d+=h[a][j]*b[j][c];n[a][c]=d}this.a=n[0][0];this.b=n[1][0];this.c=n[0][1];this.d=n[1][1];this.e=n[0][2];this.f=n[1][2]};a.invert=function(){var a=this.a*this.d-this.b*this.c;return new y(this.d/a,-this.b/a,-this.c/a,this.a/a,(this.c*this.f-this.d*this.e)/a,(this.b*this.e-this.a*this.f)/a)};a.clone=function(){return new y(this.a,this.b,this.c,this.d,this.e,this.f)};a.translate=function(a,b){this.add(1,0,0,1,a,b)};a.scale=function(a,b,c,j){null==b&&(b=a);(c||j)&&this.add(1,0,0,1,c,j);this.add(a,
0,0,b,0,0);(c||j)&&this.add(1,0,0,1,-c,-j)};a.rotate=function(a,b,j){a=g.rad(a);b=b||0;j=j||0;var d=+c.cos(a).toFixed(9),a=+c.sin(a).toFixed(9);this.add(d,a,-a,d,b,j);this.add(1,0,0,1,-b,-j)};a.x=function(a,b){return a*this.a+b*this.c+this.e};a.y=function(a,b){return a*this.b+b*this.d+this.f};a.get=function(a){return+this[F.fromCharCode(97+a)].toFixed(4)};a.toString=function(){return g.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),
this.get(2),this.get(1),this.get(3),0,0].join()};a.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};a.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};a.split=function(){var a={};a.dx=this.e;a.dy=this.f;var e=[[this.a,this.c],[this.b,this.d]];a.scalex=c.sqrt(d(e[0]));b(e[0]);a.shear=e[0][0]*e[1][0]+e[0][1]*e[1][1];
e[1]=[e[1][0]-e[0][0]*a.shear,e[1][1]-e[0][1]*a.shear];a.scaley=c.sqrt(d(e[1]));b(e[1]);a.shear/=a.scaley;var h=-e[0][1],e=e[1][1];0>e?(a.rotate=g.deg(c.acos(e)),0>h&&(a.rotate=360-a.rotate)):a.rotate=g.deg(c.asin(h));a.isSimple=!+a.shear.toFixed(9)&&(a.scalex.toFixed(9)==a.scaley.toFixed(9)||!a.rotate);a.isSuperSimple=!+a.shear.toFixed(9)&&a.scalex.toFixed(9)==a.scaley.toFixed(9)&&!a.rotate;a.noRotation=!+a.shear.toFixed(9)&&!a.rotate;return a};a.toTransformString=function(a){a=a||this[e]();return a.isSimple?
(a.scalex=+a.scalex.toFixed(4),a.scaley=+a.scaley.toFixed(4),a.rotate=+a.rotate.toFixed(4),(a.dx&&a.dy?"t"+[a.dx,a.dy]:"")+(1!=a.scalex||1!=a.scaley?"s"+[a.scalex,a.scaley,0,0]:"")+(a.rotate?"r"+[a.rotate,0,0]:"")):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}})(y.prototype);var ha=navigator.userAgent.match(/Version\/(.*?)\s/)||navigator.userAgent.match(/Chrome\/(\d+)/);"Apple Computer, Inc."==navigator.vendor&&(ha&&4>ha[1]||"iP"==navigator.platform.slice(0,2))||"Google Inc."==
navigator.vendor&&ha&&8>ha[1]?B.safari=function(){var a=this.rect(-99,-99,this.width+99,this.height+99).attr({stroke:"none"});setTimeout(function(){a.remove()})}:B.safari=$a;for(var eb=function(){this.returnValue=!1},fb=function(){return this.originalEvent.preventDefault()},gb=function(){this.cancelBubble=!0},hb=function(){return this.originalEvent.stopPropagation()},ib=function(){if(q.doc.addEventListener)return function(a,b,c,e){var d=M&&f[b]?f[b]:b,h=function(d){var h=d.clientX+(q.doc.documentElement.scrollLeft||
q.doc.body.scrollLeft),l=d.clientY+(q.doc.documentElement.scrollTop||q.doc.body.scrollTop);if(M&&f[G](b))for(var g=0,k=d.targetTouches&&d.targetTouches.length;g<k;g++)if(d.targetTouches[g].target==a){k=d;d=d.targetTouches[g];d.originalEvent=k;d.preventDefault=fb;d.stopPropagation=hb;break}return c.call(e,d,h,l)};a.addEventListener(d,h,!1);return function(){a.removeEventListener(d,h,!1);return!0}};if(q.doc.attachEvent)return function(a,b,c,d){var e=function(a){var a=a||q.win.event,b=a.clientX+(q.doc.documentElement.scrollLeft||
q.doc.body.scrollLeft),j=a.clientY+(q.doc.documentElement.scrollTop||q.doc.body.scrollTop);a.preventDefault=a.preventDefault||eb;a.stopPropagation=a.stopPropagation||gb;return c.call(d,a,b,j)};a.attachEvent("on"+b,e);return function(){a.detachEvent("on"+b,e);return!0}}}(),Y=[],qa=function(a){for(var b=a.clientX,c=a.clientY,d=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,e=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft,h,l=Y.length;l--;){h=Y[l];if(M)for(var g=a.touches.length,f;g--;){if(f=
a.touches[g],f.identifier==h.el._drag.id){b=f.clientX;c=f.clientY;(a.originalEvent?a.originalEvent:a).preventDefault();break}}else a.preventDefault();var g=h.el.node,k;f=g.nextSibling;var o=g.parentNode,i=g.style.display;q.win.opera&&o.removeChild(g);g.style.display="none";k=h.el.paper.getElementByPoint(b,c);g.style.display=i;q.win.opera&&(f?o.insertBefore(g,f):o.appendChild(g));k&&eve("drag.over."+h.el.id,h.el,k);b+=e;c+=d;eve("drag.move."+h.el.id,h.move_scope||h.el,b-h.el._drag.x,c-h.el._drag.y,
b,c,a)}},ra=function(a){g.unmousemove(qa).unmouseup(ra);for(var b=Y.length,c;b--;)c=Y[b],c.el._drag={},eve("drag.end."+c.el.id,c.end_scope||c.start_scope||c.move_scope||c.el,a);Y=[]},I=g.el={},Ka=o.length;Ka--;)(function(a){g[a]=I[a]=function(b,c){g.is(b,"function")&&(this.events=this.events||[],this.events.push({name:a,f:b,unbind:ib(this.shape||this.node||q.doc,a,b,c||this)}));return this};g["un"+a]=I["un"+a]=function(b){for(var c=this.events,d=c.length;d--;)if(c[d].name==a&&c[d].f==b){c[d].unbind();
c.splice(d,1);!c.length&&delete this.events;break}return this}})(o[Ka]);I.data=function(a,b){var c=ba[this.id]=ba[this.id]||{};if(1==arguments.length){if(g.is(a,"object")){for(var d in a)a[G](d)&&this.data(d,a[d]);return this}eve("data.get."+this.id,this,c[a],a);return c[a]}c[a]=b;eve("data.set."+this.id,this,b,a);return this};I.removeData=function(a){null==a?ba[this.id]={}:ba[this.id]&&delete ba[this.id][a];return this};I.hover=function(a,b,c,d){return this.mouseover(a,c).mouseout(b,d||c)};I.unhover=
function(a,b){return this.unmouseover(a).unmouseout(b)};var Z=[];I.drag=function(a,b,c,d,e,h){function l(f){(f.originalEvent||f).preventDefault();var k=q.doc.documentElement.scrollTop||q.doc.body.scrollTop,o=q.doc.documentElement.scrollLeft||q.doc.body.scrollLeft;this._drag.x=f.clientX+o;this._drag.y=f.clientY+k;this._drag.id=f.identifier;!Y.length&&g.mousemove(qa).mouseup(ra);Y.push({el:this,move_scope:d,start_scope:e,end_scope:h});b&&eve.on("drag.start."+this.id,b);a&&eve.on("drag.move."+this.id,
a);c&&eve.on("drag.end."+this.id,c);eve("drag.start."+this.id,e||d||this,f.clientX+o,f.clientY+k,f)}this._drag={};Z.push({el:this,start:l});this.mousedown(l);return this};I.onDragOver=function(a){a?eve.on("drag.over."+this.id,a):eve.unbind("drag.over."+this.id)};I.undrag=function(){for(var a=Z.length;a--;)Z[a].el==this&&(this.unmousedown(Z[a].start),Z.splice(a,1),eve.unbind("drag.*."+this.id));!Z.length&&g.unmousemove(qa).unmouseup(ra)};B.circle=function(a,b,c){a=g._engine.circle(this,a||0,b||0,c||
0);this.__set__&&this.__set__.push(a);return a};B.rect=function(a,b,c,d,e){a=g._engine.rect(this,a||0,b||0,c||0,d||0,e||0);this.__set__&&this.__set__.push(a);return a};B.ellipse=function(a,b,c,d){a=g._engine.ellipse(this,a||0,b||0,c||0,d||0);this.__set__&&this.__set__.push(a);return a};B.path=function(a){a&&!g.is(a,"string")&&!g.is(a[0],v)&&(a+="");var b=g._engine.path(g.format[H](g,arguments),this);this.__set__&&this.__set__.push(b);return b};B.image=function(a,b,c,d,e){a=g._engine.image(this,a||
"about:blank",b||0,c||0,d||0,e||0);this.__set__&&this.__set__.push(a);return a};B.text=function(a,b,c){a=g._engine.text(this,a||0,b||0,F(c));this.__set__&&this.__set__.push(a);return a};B.set=function(a){!g.is(a,"array")&&(a=Array.prototype.splice.call(arguments,0,arguments.length));var b=new $(a);this.__set__&&this.__set__.push(b);return b};B.setStart=function(a){this.__set__=a||this.set()};B.setFinish=function(){var a=this.__set__;delete this.__set__;return a};B.setSize=function(a,b){return g._engine.setSize.call(this,
a,b)};B.setViewBox=function(a,b,c,d,e){return g._engine.setViewBox.call(this,a,b,c,d,e)};B.top=B.bottom=null;B.raphael=g;B.getElementByPoint=function(a,b){var c,d,e=this.canvas,h=q.doc.elementFromPoint(a,b);if(q.win.opera&&"svg"==h.tagName){d=e.getBoundingClientRect();c=e.ownerDocument;var l=c.body,g=c.documentElement;c=d.top+(q.win.pageYOffset||g.scrollTop||l.scrollTop)-(g.clientTop||l.clientTop||0);d=d.left+(q.win.pageXOffset||g.scrollLeft||l.scrollLeft)-(g.clientLeft||l.clientLeft||0);l=e.createSVGRect();
l.x=a-d;l.y=b-c;l.width=l.height=1;c=e.getIntersectionList(l,null);c.length&&(h=c[c.length-1])}if(!h)return null;for(;h.parentNode&&h!=e.parentNode&&!h.raphael;)h=h.parentNode;h==this.canvas.parentNode&&(h=e);h=h&&h.raphael?this.getById(h.raphaelid):null;return h};B.getById=function(a){for(var b=this.bottom;b;){if(b.id==a)return b;b=b.next}return null};B.forEach=function(a,b){for(var c=this.bottom;c&&!(!1===a.call(b,c));)c=c.next;return this};I.getBBox=function(a){if(this.removed)return{};var b=this._;
if(a){if(b.dirty||!b.bboxwt)this.realPath=oa[this.type](this),b.bboxwt=Fa(this.realPath),b.bboxwt.toString=C,b.dirty=0;return b.bboxwt}if(b.dirty||b.dirtyT||!b.bbox){if(b.dirty||!this.realPath)b.bboxwt=0,this.realPath=oa[this.type](this);b.bbox=Fa(Ba(this.realPath,this.matrix));b.bbox.toString=C;b.dirty=b.dirtyT=0}return b.bbox};I.clone=function(){if(this.removed)return null;var a=this.paper[this.type]().attr(this.attr());this.__set__&&this.__set__.push(a);return a};I.glow=function(a){if("text"==
this.type)return null;for(var a=a||{},b=(a.width||10)+(+this.attr("stroke-width")||1),c=a.fill||!1,d=a.opacity||0.5,e=a.offsetx||0,h=a.offsety||0,a=a.color||"#000",l=b/2,g=this.paper,f=g.set(),k=this.realPath||oa[this.type](this),k=this.matrix?Ba(k,this.matrix):k,o=1;o<l+1;o++)f.push(g.path(k).attr({stroke:a,fill:c?a:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(b/l*o).toFixed(3),opacity:+(d/l).toFixed(3)}));return f.insertBefore(this).translate(e,h)};var sa={},ia=function(a,
b,c,d,e,h,l,f,o){var i=0,s=100,p=[a,b,c,d,e,h,l,f].join(),m=sa[p],t,v;!m&&(sa[p]=m={data:[]});m.timer&&clearTimeout(m.timer);m.timer=setTimeout(function(){delete sa[p]},2E3);if(null!=o&&!m.precision){var q=ia(a,b,c,d,e,h,l,f);m.precision=10*~~q;m.data=[]}s=m.precision||s;for(q=0;q<s+1;q++){m.data[q*s]?v=m.data[q*s]:(v=g.findDotsAtSegment(a,b,c,d,e,h,l,f,q/s),m.data[q*s]=v);q&&(i+=k(k(t.x-v.x,2)+k(t.y-v.y,2),0.5));if(null!=o&&i>=o)return v;t=v}if(null==o)return i},ta=function(a,b){return function(c,
d,e){for(var c=aa(c),h,l,f,k,o="",i={},s,p=0,m=0,t=c.length;m<t;m++){f=c[m];if("M"==f[0])h=+f[1],l=+f[2];else{k=ia(h,l,f[1],f[2],f[3],f[4],f[5],f[6]);if(p+k>d){if(b&&!i.start){s=ia(h,l,f[1],f[2],f[3],f[4],f[5],f[6],d-p);o+=["C"+s.start.x,s.start.y,s.m.x,s.m.y,s.x,s.y];if(e)return o;i.start=o;o=["M"+s.x,s.y+"C"+s.n.x,s.n.y,s.end.x,s.end.y,f[5],f[6]].join();p+=k;h=+f[5];l=+f[6];continue}if(!a&&!b)return s=ia(h,l,f[1],f[2],f[3],f[4],f[5],f[6],d-p),{x:s.x,y:s.y,alpha:s.alpha}}p+=k;h=+f[5];l=+f[6]}o+=
f.shift()+f}i.end=o;s=a?p:b?i:g.findDotsAtSegment(h,l,f[0],f[1],f[2],f[3],f[4],f[5],1);s.alpha&&(s={x:s.x,y:s.y,alpha:s.alpha});return s}},La=ta(1),Ma=ta(),ua=ta(0,1);g.getTotalLength=La;g.getPointAtLength=Ma;g.getSubpath=function(a,b,c){if(1.0E-6>this.getTotalLength(a)-c)return ua(a,b).end;a=ua(a,c,1);return b?ua(a,b).end:a};I.getTotalLength=function(){if("path"==this.type)return this.node.getTotalLength?this.node.getTotalLength():La(this.attrs.path)};I.getPointAtLength=function(a){if("path"==this.type)return Ma(this.attrs.path,
a)};I.getSubpath=function(a,b){if("path"==this.type)return g.getSubpath(this.attrs.path,a,b)};var S=g.easing_formulas={linear:function(a){return a},"<":function(a){return k(a,1.7)},">":function(a){return k(a,0.48)},"<>":function(a){var b=0.48-a/1.04,d=c.sqrt(0.1734+b*b),a=d-b,a=k(s(a),1/3)*(0>a?-1:1),b=-d-b,b=k(s(b),1/3)*(0>b?-1:1),a=a+b+0.5;return 3*(1-a)*a*a+a*a*a},backIn:function(a){return a*a*(2.70158*a-1.70158)},backOut:function(a){a-=1;return a*a*(2.70158*a+1.70158)+1},elastic:function(a){return a==
!!a?a:k(2,-10*a)*c.sin(2*(a-0.075)*p/0.3)+1},bounce:function(a){var b;a<1/2.75?b=7.5625*a*a:a<2/2.75?(a-=1.5/2.75,b=7.5625*a*a+0.75):a<2.5/2.75?(a-=2.25/2.75,b=7.5625*a*a+0.9375):(a-=2.625/2.75,b=7.5625*a*a+0.984375);return b}};S.easeIn=S["ease-in"]=S["<"];S.easeOut=S["ease-out"]=S[">"];S.easeInOut=S["ease-in-out"]=S["<>"];S["back-in"]=S.backIn;S["back-out"]=S.backOut;var J=[],xa=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||
window.msRequestAnimationFrame||function(a){setTimeout(a,16)},ka=function(){for(var a=+new Date,b=0;b<J.length;b++){var c=J[b];if(!c.el.removed&&!c.paused){var e=a-c.start,h=c.ms,l=c.easing,f=c.from,k=c.diff,o=c.to,s=c.el,i={},p,m={},v;c.initstatus?(e=(c.initstatus*c.anim.top-c.prev)/(c.percent-c.prev)*h,c.status=c.initstatus,delete c.initstatus,c.stop&&J.splice(b--,1)):c.status=(c.prev+(c.percent-c.prev)*(e/h))/c.anim.top;if(!(0>e))if(e<h){var q=l(e/h),r;for(r in f)if(f[G](r)){switch(ja[r]){case t:p=
+f[r]+q*h*k[r];break;case "colour":p="rgb("+[va(la(f[r].r+q*h*k[r].r)),va(la(f[r].g+q*h*k[r].g)),va(la(f[r].b+q*h*k[r].b))].join()+")";break;case "path":p=[];e=0;for(l=f[r].length;e<l;e++){p[e]=[f[r][e][0]];o=1;for(m=f[r][e].length;o<m;o++)p[e][o]=+f[r][e][o]+q*h*k[r][e][o];p[e]=p[e].join(R)}p=p.join(R);break;case "transform":if(k[r].real){p=[];for(e=0,l=f[r].length;e<l;e++){p[e]=[f[r][e][0]];for(o=1,m=f[r][e].length;o<m;o++)p[e][o]=f[r][e][o]+q*h*k[r][e][o]}}else p=function(a){return+f[r][a]+q*h*
k[r][a]},p=[["m",p(0),p(1),p(2),p(3),p(4),p(5)]];break;case "csv":if("clip-rect"==r)for(p=[],e=4;e--;)p[e]=+f[r][e]+q*h*k[r][e];break;default:l=[][E](f[r]);for(p=[],e=s.paper.customAttributes[r].length;e--;)p[e]=+l[e]+q*h*k[r][e]}i[r]=p}s.attr(i);(function(a,b,c){setTimeout(function(){eve("anim.frame."+a,b,c)})})(s.id,s,c.anim)}else{(function(a,b,c){setTimeout(function(){eve("anim.frame."+b.id,b,c);eve("anim.finish."+b.id,b,c);g.is(a,"function")&&a.call(b)})})(c.callback,s,c.anim);s.attr(o);J.splice(b--,
1);if(1<c.repeat&&!c.next){for(v in o)o[G](v)&&(m[v]=c.totalOrigin[v]);c.el.attr(m);d(c.anim,c.el,c.anim.percents[0],null,c.totalOrigin,c.repeat-1)}c.next&&!c.stop&&d(c.anim,c.el,c.next,null,c.totalOrigin,c.repeat)}}}g.svg&&s&&s.paper&&s.paper.safari();J.length&&xa(ka)},va=function(a){return 255<a?255:0>a?0:a};I.animateWith=function(a,b,c,e,d,h){c=c?g.animation(c,e,d,h):b;a=a.status(b);return this.animate(c).status(c,a*b.ms/c.ms)};I.onAnimation=function(a){a?eve.on("anim.frame."+this.id,a):eve.unbind("anim.frame."+
this.id);return this};m.prototype.delay=function(a){var b=new m(this.anim,this.ms);b.times=this.times;b.del=+a||0;return b};m.prototype.repeat=function(a){var b=new m(this.anim,this.ms);b.del=this.del;b.times=c.floor(h(a,0))||1;return b};g.animation=function(a,b,c,e){if(a instanceof m)return a;if(g.is(c,"function")||!c)e=e||c||null,c=null;a=Object(a);b=+b||0;var d={},h,l;for(l in a)a[G](l)&&L(l)!=l&&L(l)+"%"!=l&&(h=!0,d[l]=a[l]);if(!h)return new m(a,b);c&&(d.easing=c);e&&(d.callback=e);return new m({100:d},
b)};I.animate=function(a,b,c,e){if(this.removed)return e&&e.call(this),this;a=a instanceof m?a:g.animation(a,b,c,e);d(a,this,a.percents[0],null,this.attr());return this};I.setTime=function(a,b){a&&null!=b&&this.status(a,l(b,a.ms)/a.ms);return this};I.status=function(a,b){var c=[],e=0,h,f;if(null!=b)return d(a,this,-1,l(b,1)),this;for(h=J.length;e<h;e++)if(f=J[e],f.el.id==this.id&&(!a||f.anim==a)){if(a)return f.status;c.push({anim:f.anim,status:f.status})}return a?0:c};I.pause=function(a){for(var b=
0;b<J.length;b++)J[b].el.id==this.id&&(!a||J[b].anim==a)&&!1!==eve("anim.pause."+this.id,this,J[b].anim)&&(J[b].paused=!0);return this};I.resume=function(a){for(var b=0;b<J.length;b++)if(J[b].el.id==this.id&&(!a||J[b].anim==a)){var c=J[b];!1!==eve("anim.resume."+this.id,this,c.anim)&&(delete c.paused,this.status(c.anim,c.status))}return this};I.stop=function(a){for(var b=0;b<J.length;b++)J[b].el.id==this.id&&(!a||J[b].anim==a)&&!1!==eve("anim.stop."+this.id,this,J[b].anim)&&J.splice(b--,1);return this};
I.toString=function(){return"Rapha\u00ebl\u2019s object"};var $=function(a){this.items=[];this.length=0;this.type="set";if(a)for(var b=0,c=a.length;b<c;b++)a[b]&&(a[b].constructor==I.constructor||a[b].constructor==$)&&(this[this.items.length]=this.items[this.items.length]=a[b],this.length++)},Q=$.prototype;Q.push=function(){for(var a,b,c=0,e=arguments.length;c<e;c++)a=arguments[c],a&&(a.constructor==I.constructor||a.constructor==$)&&(b=this.items.length,this[b]=this.items[b]=a,this.length++);return this};
Q.pop=function(){this.length&&delete this[this.length--];return this.items.pop()};Q.forEach=function(a,b){for(var c=0,e=this.items.length;c<e&&!(!1===a.call(b,this.items[c],c));c++);return this};for(var wa in I)I[G](wa)&&(Q[wa]=function(a){return function(){var b=arguments;return this.forEach(function(c){c[a][H](c,b)})}}(wa));Q.attr=function(a,b){if(a&&g.is(a,v)&&g.is(a[0],"object"))for(var c=0,e=a.length;c<e;c++)this.items[c].attr(a[c]);else{c=0;for(e=this.items.length;c<e;c++)this.items[c].attr(a,
b)}return this};Q.clear=function(){for(;this.length;)this.pop()};Q.splice=function(a,b,c){a=0>a?h(this.length+a,0):a;b=h(0,l(this.length-a,b));var e=[],d=[],f=[],g;for(g=2;g<arguments.length;g++)f.push(arguments[g]);for(g=0;g<b;g++)d.push(this[a+g]);for(;g<this.length-a;g++)e.push(this[a+g]);var k=f.length;for(g=0;g<k+e.length;g++)this.items[a+g]=this[a+g]=g<k?f[g]:e[g-k];for(g=this.items.length=this.length-=b-k;this[g];)delete this[g++];return new $(d)};Q.exclude=function(a){for(var b=0,c=this.length;b<
c;b++)if(this[b]==a)return this.splice(b,1),!0};Q.animate=function(a,b,c,e){(g.is(c,"function")||!c)&&(e=c||null);var d=this.items.length,h=d,l=this,f;if(!d)return this;e&&(f=function(){!--d&&e.call(l)});c=g.is(c,"string")?c:f;b=g.animation(a,b,c,f);for(a=this.items[--h].animate(b);h--;)this.items[h]&&!this.items[h].removed&&this.items[h].animateWith(a,b);return this};Q.insertAfter=function(a){for(var b=this.items.length;b--;)this.items[b].insertAfter(a);return this};Q.getBBox=function(){for(var a=
[],b=[],c=[],e=[],d=this.items.length;d--;)if(!this.items[d].removed){var f=this.items[d].getBBox();a.push(f.x);b.push(f.y);c.push(f.x+f.width);e.push(f.y+f.height)}a=l[H](0,a);b=l[H](0,b);return{x:a,y:b,width:h[H](0,c)-a,height:h[H](0,e)-b}};Q.clone=function(a){for(var a=new $,b=0,c=this.items.length;b<c;b++)a.push(this.items[b].clone());return a};Q.toString=function(){return"Rapha\u00ebl\u2018s set"};g.registerFont=function(a){if(!a.face)return a;this.fonts=this.fonts||{};var b={w:a.w,face:{},glyphs:{}},
c=a.face["font-family"],e;for(e in a.face)a.face[G](e)&&(b.face[e]=a.face[e]);this.fonts[c]?this.fonts[c].push(b):this.fonts[c]=[b];if(!a.svg){b.face["units-per-em"]=X(a.face["units-per-em"],10);for(var d in a.glyphs)if(a.glyphs[G](d)&&(c=a.glyphs[d],b.glyphs[d]={w:c.w,k:{},d:c.d&&"M"+c.d.replace(/[mlcxtrv]/g,function(a){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[a]||"M"})+"z"},c.k))for(var h in c.k)c[G](h)&&(b.glyphs[d].k[h]=c.k[h])}return a};B.getFont=function(a,b,c,e){e=e||"normal";c=c||"normal";
b=+b||{normal:400,bold:700,lighter:300,bolder:800}[b]||400;if(g.fonts){var d=g.fonts[a];if(!d){var a=RegExp("(^|\\s)"+a.replace(/[^\w\d\s+!~.:_-]/g,"")+"(\\s|$)","i"),h;for(h in g.fonts)if(g.fonts[G](h)&&a.test(h)){d=g.fonts[h];break}}var l;if(d){h=0;for(a=d.length;h<a&&!(l=d[h],l.face["font-weight"]==b&&(l.face["font-style"]==c||!l.face["font-style"])&&l.face["font-stretch"]==e);h++);}return l}};B.print=function(a,b,c,d,f,k,o){k=k||"middle";o=h(l(o||0,1),-1);var s=this.set(),i=F(c)[e](""),p=0;g.is(d,
c)&&(d=this.getFont(d));if(d){for(var c=(f||16)/d.face["units-per-em"],m=d.face.bbox[e](W),f=+m[0],k=+m[1]+("baseline"==k?m[3]-m[1]+ +d.face.descent:(m[3]-m[1])/2),m=0,t=i.length;m<t;m++){var v=m&&d.glyphs[i[m-1]]||{},q=d.glyphs[i[m]];p+=m?(v.w||d.w)+(v.k&&v.k[i[m]]||0)+d.w*o:0;q&&q.d&&s.push(this.path(q.d).attr({fill:"#000",stroke:"none",transform:[["t",p*c,0]]}))}s.transform(["...s",c,c,f,k,"t",(a-f)/c,(b-k)/c])}return s};B.add=function(a){if(g.is(a,"array"))for(var b=this.set(),c=0,e=a.length,
d;c<e;c++)d=a[c]||{},w[G](d.type)&&b.push(this[d.type]().attr(d));return b};g.format=function(a,b){var c=g.is(b,v)?[0][E](b):arguments;a&&g.is(a,"string")&&c.length-1&&(a=a.replace(i,function(a,b){return null==c[++b]?"":c[b]}));return a||""};g.fullfill=function(){var a=/\{([^\}]+)\}/g,b=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,c=function(a,c,e){var d=e;c.replace(b,function(a,b,c,e,h){b=b||e;d&&(b in d&&(d=d[b]),"function"==typeof d&&h&&(d=d()))});d=(null==d||d==e?a:d)+"";return d};
return function(b,e){return(""+b).replace(a,function(a,b){return c(a,b,e)})}}();g.ninja=function(){N?q.win.Raphael=U:delete Raphael;return g};g.st=Q;(function(a,b,c){function e(){/in/.test(a.readyState)?setTimeout(e,9):g.eve("DOMload")}null==a.readyState&&a.addEventListener&&(a.addEventListener(b,c=function(){a.removeEventListener(b,c,!1);a.readyState="complete"},!1),a.readyState="loading");e()})(document,"DOMContentLoaded");N?q.win.Raphael=g:Raphael=g;eve.on("DOMload",function(){T=!0})})();
window.Raphael.svg&&function(d){var m=String,r=parseFloat,C=parseInt,y=Math,z=y.max,O=y.abs,A=y.pow,g=/[, ]+/,T=d.eve,W={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},w={};d.toString=function(){return"Your browser supports SVG.\nYou are running Rapha\u00ebl "+this.version};var i=function(e,g){if(g){"string"==typeof e&&(e=i(e));for(var f in g)g.hasOwnProperty(f)&&("xlink:"==
f.substring(0,6)?e.setAttributeNS("http://www.w3.org/1999/xlink",f.substring(6),m(g[f])):e.setAttribute(f,m(g[f])))}else e=d._g.doc.createElementNS("http://www.w3.org/2000/svg",e),e.style&&(e.style.webkitTapHighlightColor="rgba(0,0,0,0)");return e},G=function(e,g){var f="linear",b=e.id+g,c=0.5,h=0.5,l=e.node,s=e.paper,k=l.style,p=d._g.doc.getElementById(b);if(!p){g=m(g).replace(d._radial_gradient,function(b,e,d){f="radial";e&&d&&(c=r(e),h=r(d),b=2*(0.5<h)-1,0.25<A(c-0.5,2)+A(h-0.5,2)&&(h=y.sqrt(0.25-
A(c-0.5,2))*b+0.5)&&0.5!=h&&(h=h.toFixed(5)-1.0E-5*b));return""});g=g.split(/\s*\-\s*/);if("linear"==f){var t=g.shift(),t=-r(t);if(isNaN(t))return null;var v=[0,0,y.cos(d.rad(t)),y.sin(d.rad(t))],t=1/(z(O(v[2]),O(v[3]))||1);v[2]*=t;v[3]*=t;0>v[2]&&(v[0]=-v[2],v[2]=0);0>v[3]&&(v[1]=-v[3],v[3]=0)}t=d._parseDots(g);if(!t)return null;b=b.replace(/[\(\)\s,\xb0#]/g,"_");e.gradient&&b!=e.gradient.id&&(s.defs.removeChild(e.gradient),delete e.gradient);if(!e.gradient){p=i(f+"Gradient",{id:b});e.gradient=p;
i(p,"radial"==f?{fx:c,fy:h}:{x1:v[0],y1:v[1],x2:v[2],y2:v[3],gradientTransform:e.matrix.invert()});s.defs.appendChild(p);s=0;for(v=t.length;s<v;s++)p.appendChild(i("stop",{offset:t[s].offset?t[s].offset:s?"100%":"0%","stop-color":t[s].color||"#fff"}))}}i(l,{fill:"url(#"+b+")",opacity:1,"fill-opacity":1});k.fill="";k.opacity=1;k.fillOpacity=1;return 1},q=function(e){var d=e.getBBox(1);i(e.pattern,{patternTransform:e.matrix.invert()+" translate("+d.x+","+d.y+")"})},N=function(e,g,f){if("path"==e.type){for(var b=
m(g).toLowerCase().split("-"),c=e.paper,h=f?"end":"start",l=e.node,s=e.attrs,k=s["stroke-width"],p=b.length,t="classic",v,q,r,A,y,z=3,B=3,C=5;p--;)switch(b[p]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":t=b[p];break;case "wide":B=5;break;case "narrow":B=2;break;case "long":z=5;break;case "short":z=2}"open"==t?(z+=2,B+=2,C+=2,r=1,A=f?4:1,y={fill:"none",stroke:s.stroke}):(A=r=z/2,y={fill:s.stroke,stroke:"none"});e._.arrows?f?(e._.arrows.endPath&&w[e._.arrows.endPath]--,
e._.arrows.endMarker&&w[e._.arrows.endMarker]--):(e._.arrows.startPath&&w[e._.arrows.startPath]--,e._.arrows.startMarker&&w[e._.arrows.startMarker]--):e._.arrows={};if("none"!=t){b="raphael-marker-"+t;p="raphael-marker-"+h+t+z+B;d._g.doc.getElementById(b)?w[b]++:(c.defs.appendChild(i(i("path"),{"stroke-linecap":"round",d:W[t],id:b})),w[b]=1);var E=d._g.doc.getElementById(p),F;E?(w[p]++,F=E.getElementsByTagName("use")[0]):(E=i(i("marker"),{id:p,markerHeight:B,markerWidth:z,orient:"auto",refX:A,refY:B/
2}),F=i(i("use"),{"xlink:href":"#"+b,transform:(f?" rotate(180 "+z/2+" "+B/2+") ":" ")+"scale("+z/C+","+B/C+")","stroke-width":1/((z/C+B/C)/2)}),E.appendChild(F),c.defs.appendChild(E),w[p]=1);i(F,y);c=r*("diamond"!=t&&"oval"!=t);f?(v=e._.arrows.startdx*k||0,q=d.getTotalLength(s.path)-c*k):(v=c*k,q=d.getTotalLength(s.path)-(e._.arrows.enddx*k||0));y={};y["marker-"+h]="url(#"+p+")";if(q||v)y.d=Raphael.getSubpath(s.path,v,q);i(l,y);e._.arrows[h+"Path"]=b;e._.arrows[h+"Marker"]=p;e._.arrows[h+"dx"]=c;
e._.arrows[h+"Type"]=t;e._.arrows[h+"String"]=g}else f?(v=e._.arrows.startdx*k||0,q=d.getTotalLength(s.path)-v):(v=0,q=d.getTotalLength(s.path)-(e._.arrows.enddx*k||0)),e._.arrows[h+"Path"]&&i(l,{d:Raphael.getSubpath(s.path,v,q)}),delete e._.arrows[h+"Path"],delete e._.arrows[h+"Marker"],delete e._.arrows[h+"dx"],delete e._.arrows[h+"Type"],delete e._.arrows[h+"String"];for(y in w)w.hasOwnProperty(y)&&!w[y]&&(e=d._g.doc.getElementById(y))&&e.parentNode.removeChild(e)}},U={"":[0],none:[0],"-":[3,1],
".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},K=function(e,d,f){if(d=U[m(d).toLowerCase()]){for(var b=e.attrs["stroke-width"]||"1",f={round:b,square:b,butt:0}[e.attrs["stroke-linecap"]||f["stroke-linecap"]]||0,c=[],h=d.length;h--;)c[h]=d[h]*b+(h%2?1:-1)*f;i(e.node,{"stroke-dasharray":c.join(",")})}},B=function(e,o){var f=e.node,b=e.attrs,c=f.style.visibility;f.style.visibility="hidden";for(var h in o)if(o.hasOwnProperty(h)&&
d._availableAttrs.hasOwnProperty(h)){var l=o[h];b[h]=l;switch(h){case "blur":e.blur(l);break;case "href":case "title":case "target":var s=f.parentNode;if("a"!=s.tagName.toLowerCase()){var k=i("a");s.insertBefore(k,f);k.appendChild(f);s=k}"target"==h&&"blank"==l?s.setAttributeNS("http://www.w3.org/1999/xlink","show","new"):s.setAttributeNS("http://www.w3.org/1999/xlink",h,l);break;case "cursor":f.style.cursor=l;break;case "transform":e.transform(l);break;case "arrow-start":N(e,l);break;case "arrow-end":N(e,
l,1);break;case "clip-rect":s=m(l).split(g);if(4==s.length){e.clip&&e.clip.parentNode.parentNode.removeChild(e.clip.parentNode);var k=i("clipPath"),p=i("rect");k.id=d.createUUID();i(p,{x:s[0],y:s[1],width:s[2],height:s[3]});k.appendChild(p);e.paper.defs.appendChild(k);i(f,{"clip-path":"url(#"+k.id+")"});e.clip=p}if(!l&&(l=f.getAttribute("clip-path")))l=d._g.doc.getElementById(l.replace(/(^url\(#|\)$)/g,"")),l&&l.parentNode.removeChild(l),i(f,{"clip-path":""}),delete e.clip;break;case "path":"path"==
e.type&&(i(f,{d:l?b.path=d._pathToAbsolute(l):"M0,0"}),e._.dirty=1,e._.arrows&&("startString"in e._.arrows&&N(e,e._.arrows.startString),"endString"in e._.arrows&&N(e,e._.arrows.endString,1)));break;case "width":if(f.setAttribute(h,l),e._.dirty=1,b.fx)h="x",l=b.x;else break;case "x":b.fx&&(l=-b.x-(b.width||0));case "rx":if("rx"==h&&"rect"==e.type)break;case "cx":f.setAttribute(h,l);e.pattern&&q(e);e._.dirty=1;break;case "height":if(f.setAttribute(h,l),e._.dirty=1,b.fy)h="y",l=b.y;else break;case "y":b.fy&&
(l=-b.y-(b.height||0));case "ry":if("ry"==h&&"rect"==e.type)break;case "cy":f.setAttribute(h,l);e.pattern&&q(e);e._.dirty=1;break;case "r":"rect"==e.type?i(f,{rx:l,ry:l}):f.setAttribute(h,l);e._.dirty=1;break;case "src":"image"==e.type&&f.setAttributeNS("http://www.w3.org/1999/xlink","href",l);break;case "stroke-width":if(1!=e._.sx||1!=e._.sy)l/=z(O(e._.sx),O(e._.sy))||1;e.paper._vbSize&&(l*=e.paper._vbSize);f.setAttribute(h,l);b["stroke-dasharray"]&&K(e,b["stroke-dasharray"],o);e._.arrows&&("startString"in
e._.arrows&&N(e,e._.arrows.startString),"endString"in e._.arrows&&N(e,e._.arrows.endString,1));break;case "stroke-dasharray":K(e,l,o);break;case "fill":var t=m(l).match(d._ISURL);if(t){var k=i("pattern"),v=i("image");k.id=d.createUUID();i(k,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});i(v,{x:0,y:0,"xlink:href":t[1]});k.appendChild(v);(function(b){d._preload(t[1],function(){var c=this.offsetWidth,d=this.offsetHeight;i(b,{width:c,height:d});i(v,{width:c,height:d});e.paper.safari()})})(k);
e.paper.defs.appendChild(k);f.style.fill="url(#"+k.id+")";i(f,{fill:"url(#"+k.id+")"});e.pattern=k;e.pattern&&q(e);break}var r=d.getRGB(l);if(r.error){if(("circle"==e.type||"ellipse"==e.type||"r"!=m(l).charAt())&&G(e,l)){if("opacity"in b||"fill-opacity"in b){var w=d._g.doc.getElementById(f.getAttribute("fill").replace(/^url\(#|\)$/g,""));if(w){var y=w.getElementsByTagName("stop");i(y[y.length-1],{"stop-opacity":("opacity"in b?b.opacity:1)*("fill-opacity"in b?b["fill-opacity"]:1)})}}b.gradient=l;b.fill=
"none";break}}else delete o.gradient,delete b.gradient,!d.is(b.opacity,"undefined")&&d.is(o.opacity,"undefined")&&i(f,{opacity:b.opacity}),!d.is(b["fill-opacity"],"undefined")&&d.is(o["fill-opacity"],"undefined")&&i(f,{"fill-opacity":b["fill-opacity"]});r.hasOwnProperty("opacity")&&i(f,{"fill-opacity":1<r.opacity?r.opacity/100:r.opacity});case "stroke":r=d.getRGB(l);f.setAttribute(h,r.hex);"stroke"==h&&r.hasOwnProperty("opacity")&&i(f,{"stroke-opacity":1<r.opacity?r.opacity/100:r.opacity});"stroke"==
h&&e._.arrows&&("startString"in e._.arrows&&N(e,e._.arrows.startString),"endString"in e._.arrows&&N(e,e._.arrows.endString,1));break;case "gradient":("circle"==e.type||"ellipse"==e.type||"r"!=m(l).charAt())&&G(e,l);break;case "opacity":b.gradient&&!b.hasOwnProperty("stroke-opacity")&&i(f,{"stroke-opacity":1<l?l/100:l});case "fill-opacity":if(b.gradient){w=d._g.doc.getElementById(f.getAttribute("fill").replace(/^url\(#|\)$/g,""));w&&(y=w.getElementsByTagName("stop"),i(y[y.length-1],{"stop-opacity":l}));
break}default:"font-size"==h&&(l=C(l,10)+"px"),s=h.replace(/(\-.)/g,function(b){return b.substring(1).toUpperCase()}),f.style[s]=l,e._.dirty=1,f.setAttribute(h,l)}}H(e,o);f.style.visibility=c},H=function(e,g){if("text"==e.type&&(g.hasOwnProperty("text")||g.hasOwnProperty("font")||g.hasOwnProperty("font-size")||g.hasOwnProperty("x")||g.hasOwnProperty("y"))){var f=e.attrs,b=e.node,c=b.firstChild?C(d._g.doc.defaultView.getComputedStyle(b.firstChild,"").getPropertyValue("font-size"),10):10;if(g.hasOwnProperty("text")){for(f.text=
g.text;b.firstChild;)b.removeChild(b.firstChild);for(var h=m(g.text).split("\n"),l=[],s,k=0,p=h.length;k<p;k++)s=i("tspan"),k&&i(s,{dy:1.2*c,x:f.x}),s.appendChild(d._g.doc.createTextNode(h[k])),b.appendChild(s),l[k]=s}else{l=b.getElementsByTagName("tspan");for(k=0,p=l.length;k<p;k++)k?i(l[k],{dy:1.2*c,x:f.x}):i(l[0],{dy:0})}i(b,{x:f.x,y:f.y});e._.dirty=1;b=e._getBBox();(f=f.y-(b.y+b.height/2))&&d.is(f,"finite")&&i(l[0],{dy:f})}},E=function(e,g){this[0]=this.node=e;e.raphael=!0;this.id=d._oid++;e.raphaelid=
this.id;this.matrix=d.matrix();this.realPath=null;this.paper=g;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};!g.bottom&&(g.bottom=this);this.prev=g.top;g.top&&(g.top.next=this);g.top=this;this.next=null},M=d.el;E.prototype=M;M.constructor=E;d._engine.path=function(d,g){var f=i("path");g.canvas&&g.canvas.appendChild(f);f=new E(f,g);f.type="path";B(f,{fill:"none",stroke:"#000",path:d});return f};M.rotate=function(d,i,f){if(this.removed)return this;d=m(d).split(g);
d.length-1&&(i=r(d[1]),f=r(d[2]));d=r(d[0]);null==f&&(i=f);if(null==i||null==f)f=this.getBBox(1),i=f.x+f.width/2,f=f.y+f.height/2;this.transform(this._.transform.concat([["r",d,i,f]]));return this};M.scale=function(d,i,f,b){if(this.removed)return this;d=m(d).split(g);d.length-1&&(i=r(d[1]),f=r(d[2]),b=r(d[3]));d=r(d[0]);null==i&&(i=d);null==b&&(f=b);if(null==f||null==b)var c=this.getBBox(1);f=null==f?c.x+c.width/2:f;b=null==b?c.y+c.height/2:b;this.transform(this._.transform.concat([["s",d,i,f,b]]));
return this};M.translate=function(d,i){if(this.removed)return this;d=m(d).split(g);d.length-1&&(i=r(d[1]));d=r(d[0])||0;i=+i||0;this.transform(this._.transform.concat([["t",d,i]]));return this};M.transform=function(e){var g=this._;if(null==e)return g.transform;d._extractTransform(this,e);this.clip&&i(this.clip,{transform:this.matrix.invert()});this.pattern&&q(this);this.node&&i(this.node,{transform:this.matrix});if(1!=g.sx||1!=g.sy)this.attr({"stroke-width":this.attrs.hasOwnProperty("stroke-width")?
this.attrs["stroke-width"]:1});return this};M.hide=function(){!this.removed&&this.paper.safari(this.node.style.display="none");return this};M.show=function(){!this.removed&&this.paper.safari(this.node.style.display="");return this};M.remove=function(){if(!this.removed){var e=this.paper;e.__set__&&e.__set__.exclude(this);T.unbind("*.*."+this.id);this.gradient&&e.defs.removeChild(this.gradient);d._tear(this,e);this.node.parentNode.removeChild(this.node);for(var g in this)this[g]="function"==typeof this[g]?
d._removedFactory(g):null;this.removed=!0}};M._getBBox=function(){if("none"==this.node.style.display){this.show();var d=!0}var g={};try{g=this.node.getBBox()}catch(f){}finally{g=g||{}}d&&this.hide();return g};M.attr=function(e,i){if(this.removed)return this;if(null==e){var f={},b;for(b in this.attrs)this.attrs.hasOwnProperty(b)&&(f[b]=this.attrs[b]);f.gradient&&"none"==f.fill&&(f.fill=f.gradient)&&delete f.gradient;f.transform=this._.transform;return f}if(null==i&&d.is(e,"string")){if("fill"==e&&
"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;if("transform"==e)return this._.transform;b=e.split(g);for(var f={},c=0,h=b.length;c<h;c++)e=b[c],e in this.attrs?f[e]=this.attrs[e]:d.is(this.paper.customAttributes[e],"function")?f[e]=this.paper.customAttributes[e].def:f[e]=d._availableAttrs[e];return h-1?f:f[b[0]]}if(null==i&&d.is(e,"array")){f={};for(c=0,h=e.length;c<h;c++)f[e[c]]=this.attr(e[c]);return f}null!=i?(f={},f[e]=i):null!=e&&d.is(e,"object")&&(f=e);for(c in f)T("attr."+
c+"."+this.id,this,f[c]);for(c in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(c)&&f.hasOwnProperty(c)&&d.is(this.paper.customAttributes[c],"function"))for(h in b=this.paper.customAttributes[c].apply(this,[].concat(f[c])),this.attrs[c]=f[c],b)b.hasOwnProperty(h)&&(f[h]=b[h]);B(this,f);return this};M.toFront=function(){if(this.removed)return this;"a"==this.node.parentNode.tagName.toLowerCase()?this.node.parentNode.parentNode.appendChild(this.node.parentNode):this.node.parentNode.appendChild(this.node);
var e=this.paper;e.top!=this&&d._tofront(this,e);return this};M.toBack=function(){if(this.removed)return this;var e=this.node.parentNode;"a"==e.tagName.toLowerCase()?e.parentNode.insertBefore(this.node.parentNode,this.node.parentNode.parentNode.firstChild):e.firstChild!=this.node&&e.insertBefore(this.node,this.node.parentNode.firstChild);d._toback(this,this.paper);return this};M.insertAfter=function(e){if(this.removed)return this;var g=e.node||e[e.length-1].node;g.nextSibling?g.parentNode.insertBefore(this.node,
g.nextSibling):g.parentNode.appendChild(this.node);d._insertafter(this,e,this.paper);return this};M.insertBefore=function(e){if(this.removed)return this;var g=e.node||e[0].node;g.parentNode.insertBefore(this.node,g);d._insertbefore(this,e,this.paper);return this};M.blur=function(e){if(0!==+e){var g=i("filter"),f=i("feGaussianBlur");this.attrs.blur=e;g.id=d.createUUID();i(f,{stdDeviation:+e||1.5});g.appendChild(f);this.paper.defs.appendChild(g);this._blur=g;i(this.node,{filter:"url(#"+g.id+")"})}else this._blur&&
(this._blur.parentNode.removeChild(this._blur),delete this._blur,delete this.attrs.blur),this.node.removeAttribute("filter")};d._engine.circle=function(d,g,f,b){var c=i("circle");d.canvas&&d.canvas.appendChild(c);d=new E(c,d);d.attrs={cx:g,cy:f,r:b,fill:"none",stroke:"#000"};d.type="circle";i(c,d.attrs);return d};d._engine.rect=function(d,g,f,b,c,h){var l=i("rect");d.canvas&&d.canvas.appendChild(l);d=new E(l,d);d.attrs={x:g,y:f,width:b,height:c,r:h||0,rx:h||0,ry:h||0,fill:"none",stroke:"#000"};d.type=
"rect";i(l,d.attrs);return d};d._engine.ellipse=function(d,g,f,b,c){var h=i("ellipse");d.canvas&&d.canvas.appendChild(h);d=new E(h,d);d.attrs={cx:g,cy:f,rx:b,ry:c,fill:"none",stroke:"#000"};d.type="ellipse";i(h,d.attrs);return d};d._engine.image=function(d,g,f,b,c,h){var l=i("image");i(l,{x:f,y:b,width:c,height:h,preserveAspectRatio:"none"});l.setAttributeNS("http://www.w3.org/1999/xlink","href",g);d.canvas&&d.canvas.appendChild(l);d=new E(l,d);d.attrs={x:f,y:b,width:c,height:h,src:g};d.type="image";
return d};d._engine.text=function(e,g,f,b){var c=i("text");e.canvas&&e.canvas.appendChild(c);e=new E(c,e);e.attrs={x:g,y:f,"text-anchor":"middle",text:b,font:d._availableAttrs.font,stroke:"none",fill:"#000"};e.type="text";B(e,e.attrs);return e};d._engine.setSize=function(d,g){this.width=d||this.width;this.height=g||this.height;this.canvas.setAttribute("width",this.width);this.canvas.setAttribute("height",this.height);this._viewBox&&this.setViewBox.apply(this,this._viewBox);return this};d._engine.create=
function(){var e=d._getContainer.apply(0,arguments),g=e&&e.container,f=e.x,b=e.y,c=e.width,e=e.height;if(!g)throw Error("SVG container not found.");var h=i("svg"),l;f=f||0;b=b||0;c=c||512;e=e||342;i(h,{height:e,version:1.1,width:c,xmlns:"http://www.w3.org/2000/svg"});1==g?(h.style.cssText="overflow:hidden;position:absolute;left:"+f+"px;top:"+b+"px",d._g.doc.body.appendChild(h),l=1):(h.style.cssText="overflow:hidden;position:relative",g.firstChild?g.insertBefore(h,g.firstChild):g.appendChild(h));g=
new d._Paper;g.width=c;g.height=e;g.canvas=h;g.clear();g._left=g._top=0;l&&(g.renderfix=function(){});g.renderfix();return g};d._engine.setViewBox=function(d,g,f,b,c){T("setViewBox",this,this._viewBox,[d,g,f,b,c]);var h=z(f/this.width,b/this.height),l=this.top,s,k;for(null==d?(this._vbSize&&(h=1),delete this._vbSize,s="0 0 "+this.width+" "+this.height):(this._vbSize=h,s=d+" "+g+" "+f+" "+b),i(this.canvas,{viewBox:s,preserveAspectRatio:c?"meet":"xMinYMin"});h&&l;)k="stroke-width"in l.attrs?l.attrs["stroke-width"]:
1,l.attr({"stroke-width":k}),l._.dirty=1,l._.dirtyT=1,l=l.prev;this._viewBox=[d,g,f,b,!!c];return this};d.prototype.renderfix=function(){var d=this.canvas,g=d.style,f=d.getScreenCTM()||d.createSVGMatrix(),d=-f.e%1,f=-f.f%1;if(d||f)d&&(this._left=(this._left+d)%1,g.left=this._left+"px"),f&&(this._top=(this._top+f)%1,g.top=this._top+"px")};d.prototype.clear=function(){d.eve("clear",this);for(var e=this.canvas;e.firstChild;)e.removeChild(e.firstChild);this.bottom=this.top=null;(this.desc=i("desc")).appendChild(d._g.doc.createTextNode("Created with Rapha\u00ebl "+
d.version));e.appendChild(this.desc);e.appendChild(this.defs=i("defs"))};d.prototype.remove=function(){T("remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var e in this)this[e]="function"==typeof this[e]?d._removedFactory(e):null};var R=d.st,F;for(F in M)M.hasOwnProperty(F)&&!R.hasOwnProperty(F)&&(R[F]=function(d){return function(){var g=arguments;return this.forEach(function(f){f[d].apply(f,g)})}}(F))}(window.Raphael);
window.Raphael.vml&&function(d){var m=String,r=parseFloat,C=Math,y=C.round,z=C.max,O=C.min,A=C.abs,g=/[, ]+/,T=d.eve,W={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},w=/([clmz]),?([^clmz]*)/gi,i=/ progid:\S+Blur\([^\)]+\)/g,G=/-?[^,\s-]+/g,q={path:1,rect:1,image:1},N={circle:1,ellipse:1},U=function(b){var c=/[ahqstv]/ig,e=d._pathToAbsolute;m(b).match(c)&&(e=d._path2curve);c=/[clmz]/g;if(e==d._pathToAbsolute&&!m(b).match(c))return b=m(b).replace(w,function(b,c,d){var e=[],h="m"==c.toLowerCase(),
g=W[c];d.replace(G,function(b){h&&2==e.length&&(g+=e+W["m"==c?"l":"L"],e=[]);e.push(y(21600*b))});return g+e});for(var c=e(b),g,b=[],f=0,k=c.length;f<k;f++){e=c[f];g=c[f][0].toLowerCase();"z"==g&&(g="x");for(var i=1,t=e.length;i<t;i++)g+=y(21600*e[i])+(i!=t-1?",":"");b.push(g)}return b.join(" ")},K=function(b,c,e){var g=d.matrix();g.rotate(-b,0.5,0.5);return{dx:g.x(c,e),dy:g.y(c,e)}},B=function(b,c,d,e,g,f){var i=b._,m=b.matrix,o=i.fillpos,b=b.node,q=b.style,r=1,w="",y=21600/c,z=21600/d;q.visibility=
"hidden";if(c&&d){b.coordsize=A(y)+" "+A(z);q.rotation=f*(0>c*d?-1:1);if(f){var B=K(f,e,g);e=B.dx;g=B.dy}0>c&&(w+="x");0>d&&(w+=" y")&&(r=-1);q.flip=w;b.coordorigin=e*-y+" "+g*-z;if(o||i.fillsize)e=b.getElementsByTagName("fill"),e=e&&e[0],b.removeChild(e),o&&(B=K(f,m.x(o[0],o[1]),m.y(o[0],o[1])),e.position=B.dx*r+" "+B.dy*r),i.fillsize&&(e.size=i.fillsize[0]*A(c)+" "+i.fillsize[1]*A(d)),b.appendChild(e);q.visibility="visible"}};d.toString=function(){return"Your browser doesn\u2019t support SVG. Falling down to VML.\nYou are running Rapha\u00ebl "+
this.version};var H=function(b,c,d){for(var c=m(c).toLowerCase().split("-"),d=d?"end":"start",e=c.length,g="classic",f="medium",i="medium";e--;)switch(c[e]){case "block":case "classic":case "oval":case "diamond":case "open":case "none":g=c[e];break;case "wide":case "narrow":i=c[e];break;case "long":case "short":f=c[e]}b=b.node.getElementsByTagName("stroke")[0];b[d+"arrow"]=g;b[d+"arrowlength"]=f;b[d+"arrowwidth"]=i},E=function(b,c){b.attrs=b.attrs||{};var h=b.node,f=b.attrs,i=h.style,k=q[b.type]&&
(c.x!=f.x||c.y!=f.y||c.width!=f.width||c.height!=f.height||c.cx!=f.cx||c.cy!=f.cy||c.rx!=f.rx||c.ry!=f.ry||c.r!=f.r),p=N[b.type]&&(f.cx!=c.cx||f.cy!=c.cy||f.r!=c.r||f.rx!=c.rx||f.ry!=c.ry),t;for(t in c)c.hasOwnProperty(t)&&(f[t]=c[t]);k&&(f.path=d._getPath[b.type](b),b._.dirty=1);c.href&&(h.href=c.href);c.title&&(h.title=c.title);c.target&&(h.target=c.target);c.cursor&&(i.cursor=c.cursor);"blur"in c&&b.blur(c.blur);if(c.path&&"path"==b.type||k)h.path=U(~m(f.path).toLowerCase().indexOf("r")?d._pathToAbsolute(f.path):
f.path),"image"==b.type&&(b._.fillpos=[f.x,f.y],b._.fillsize=[f.width,f.height],B(b,1,1,0,0,0));"transform"in c&&b.transform(c.transform);if(p){k=+f.cx;p=+f.cy;t=+f.rx||+f.r||0;var o=+f.ry||+f.r||0;h.path=d.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",y(21600*(k-t)),y(21600*(p-o)),y(21600*(k+t)),y(21600*(p+o)),y(21600*k))}if("clip-rect"in c){k=m(c["clip-rect"]).split(g);if(4==k.length)k[2]=+k[2]+ +k[0],k[3]=+k[3]+ +k[1],p=h.clipRect||d._g.doc.createElement("div"),t=p.style,t.clip=d.format("rect({1}px {2}px {3}px {0}px)",
k),h.clipRect||(t.position="absolute",t.top=0,t.left=0,t.width=b.paper.width+"px",t.height=b.paper.height+"px",h.parentNode.insertBefore(p,h),p.appendChild(h),h.clipRect=p);c["clip-rect"]||h.clipRect&&(h.clipRect.style.clip="auto")}if(b.textpath)k=b.textpath.style,c.font&&(k.font=c.font),c["font-family"]&&(k.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,"")+'"'),c["font-size"]&&(k.fontSize=c["font-size"]),c["font-weight"]&&(k.fontWeight=c["font-weight"]),c["font-style"]&&
(k.fontStyle=c["font-style"]);"arrow-start"in c&&H(b,c["arrow-start"]);"arrow-end"in c&&H(b,c["arrow-end"],1);if(null!=c.opacity||null!=c["stroke-width"]||null!=c.fill||null!=c.src||null!=c.stroke||null!=c["stroke-width"]||null!=c["stroke-opacity"]||null!=c["fill-opacity"]||null!=c["stroke-dasharray"]||null!=c["stroke-miterlimit"]||null!=c["stroke-linejoin"]||null!=c["stroke-linecap"]){k=h.getElementsByTagName("fill");k=k&&k[0];!k&&(k=e("fill"));"image"==b.type&&c.src&&(k.src=c.src);c.fill&&(k.on=
!0);if(null==k.on||"none"==c.fill||null===c.fill)k.on=!1;if(k.on&&c.fill)(p=m(c.fill).match(d._ISURL))?(k.parentNode==h&&h.removeChild(k),k.rotate=!0,k.src=p[1],k.type="tile",t=b.getBBox(1),k.position=t.x+" "+t.y,b._.fillpos=[t.x,t.y],d._preload(p[1],function(){b._.fillsize=[this.offsetWidth,this.offsetHeight]})):(k.color=d.getRGB(c.fill).hex,k.src="",k.type="solid",d.getRGB(c.fill).error&&(b.type in{circle:1,ellipse:1}||"r"!=m(c.fill).charAt())&&M(b,c.fill,k)&&(f.fill="none",f.gradient=c.fill,k.rotate=
!1));if("fill-opacity"in c||"opacity"in c)t=((+f["fill-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+d.getRGB(c.fill).o+1||2)-1),t=O(z(t,0),1),k.opacity=t,k.src&&(k.color="none");h.appendChild(k);k=h.getElementsByTagName("stroke")&&h.getElementsByTagName("stroke")[0];p=!1;!k&&(p=k=e("stroke"));if(c.stroke&&"none"!=c.stroke||c["stroke-width"]||null!=c["stroke-opacity"]||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])k.on=!0;("none"==c.stroke||null===c.stroke||
null==k.on||0==c.stroke||0==c["stroke-width"])&&(k.on=!1);t=d.getRGB(c.stroke);k.on&&c.stroke&&(k.color=t.hex);t=((+f["stroke-opacity"]+1||2)-1)*((+f.opacity+1||2)-1)*((+t.o+1||2)-1);o=0.75*(r(c["stroke-width"])||1);t=O(z(t,0),1);null==c["stroke-width"]&&(o=f["stroke-width"]);c["stroke-width"]&&(k.weight=o);o&&1>o&&(t*=o)&&(k.weight=1);k.opacity=t;c["stroke-linejoin"]&&(k.joinstyle=c["stroke-linejoin"]||"miter");k.miterlimit=c["stroke-miterlimit"]||8;c["stroke-linecap"]&&(k.endcap="butt"==c["stroke-linecap"]?
"flat":"square"==c["stroke-linecap"]?"square":"round");if(c["stroke-dasharray"])t={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},k.dashstyle=t.hasOwnProperty(c["stroke-dasharray"])?t[c["stroke-dasharray"]]:"";p&&h.appendChild(k)}if("text"==b.type){b.paper.canvas.style.display="";h=b.paper.span;k=f.font&&f.font.match(/\d+(?:\.\d*)?(?=px)/);i=h.style;f.font&&(i.font=f.font);
f["font-family"]&&(i.fontFamily=f["font-family"]);f["font-weight"]&&(i.fontWeight=f["font-weight"]);f["font-style"]&&(i.fontStyle=f["font-style"]);k=r(f["font-size"]||k&&k[0])||10;i.fontSize=100*k+"px";b.textpath.string&&(h.innerHTML=m(b.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>"));i=h.getBoundingClientRect();b.W=f.w=(i.right-i.left)/100;b.H=f.h=(i.bottom-i.top)/100;b.X=f.x;b.Y=f.y+b.H/2;("x"in c||"y"in c)&&(b.path.v=d.format("m{0},{1}l{2},{1}",y(21600*f.x),
y(21600*f.y),y(21600*f.x)+1));i="x,y,text,font,font-family,font-weight,font-style,font-size".split(",");h=0;for(k=i.length;h<k;h++)if(i[h]in c){b._.dirty=1;break}switch(f["text-anchor"]){case "start":b.textpath.style["v-text-align"]="left";b.bbx=b.W/2;break;case "end":b.textpath.style["v-text-align"]="right";b.bbx=-b.W/2;break;default:b.textpath.style["v-text-align"]="center",b.bbx=0}b.textpath.style["v-text-kern"]=!0}},M=function(b,c,e){b.attrs=b.attrs||{};var g=Math.pow,f="linear",k=".5 .5";b.attrs.gradient=
c;c=m(c).replace(d._radial_gradient,function(b,c,d){f="radial";c&&d&&(c=r(c),d=r(d),0.25<g(c-0.5,2)+g(d-0.5,2)&&(d=C.sqrt(0.25-g(c-0.5,2))*(2*(0.5<d)-1)+0.5),k=c+" "+d);return""});c=c.split(/\s*\-\s*/);if("linear"==f){var i=c.shift(),i=-r(i);if(isNaN(i))return null}c=d._parseDots(c);if(!c)return null;b=b.shape||b.node;if(c.length){b.removeChild(e);e.on=!0;e.method="none";e.color=c[0].color;e.color2=c[c.length-1].color;for(var o=[],q=0,w=c.length;q<w;q++)c[q].offset&&o.push(c[q].offset+" "+c[q].color);
e.colors=o.length?o.join():"0% "+e.color;"radial"==f?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=k,e.angle=0):(e.type="gradient",e.angle=(270-i)%360);b.appendChild(e)}return 1},R=function(b,c){this[0]=this.node=b;b.raphael=!0;this.id=d._oid++;b.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=c;this.matrix=d.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};!c.bottom&&(c.bottom=this);this.prev=c.top;c.top&&(c.top.next=this);c.top=this;
this.next=null},F=d.el;R.prototype=F;F.constructor=R;F.transform=function(b){if(null==b)return this._.transform;var c=this.paper._viewBoxShift,e=c?"s"+[c.scale,c.scale]+"-1-1t"+[c.dx,c.dy]:"",g;c&&(g=b=m(b).replace(/\.{3}|\u2026/g,this._.transform||""));d._extractTransform(this,e+b);var c=this.matrix.clone(),f=this.skew,b=this.node,e=~m(this.attrs.fill).indexOf("-"),i=!m(this.attrs.fill).indexOf("url(");c.translate(-0.5,-0.5);i||e||"image"==this.type?(f.matrix="1 0 0 1",f.offset="0 0",f=c.split(),
e&&f.noRotation||!f.isSimple?(b.style.filter=c.toFilter(),e=this.getBBox(),f=this.getBBox(1),c=e.x-f.x,e=e.y-f.y,b.coordorigin=-21600*c+" "+-21600*e,B(this,1,1,c,e,0)):(b.style.filter="",B(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate))):(b.style.filter="",f.matrix=m(c),f.offset=c.offset());g&&(this._.transform=g);return this};F.rotate=function(b,c,d){if(this.removed)return this;if(null!=b){b=m(b).split(g);b.length-1&&(c=r(b[1]),d=r(b[2]));b=r(b[0]);null==d&&(c=d);if(null==c||null==d)d=this.getBBox(1),
c=d.x+d.width/2,d=d.y+d.height/2;this._.dirtyT=1;this.transform(this._.transform.concat([["r",b,c,d]]));return this}};F.translate=function(b,c){if(this.removed)return this;b=m(b).split(g);b.length-1&&(c=r(b[1]));b=r(b[0])||0;c=+c||0;this._.bbox&&(this._.bbox.x+=b,this._.bbox.y+=c);this.transform(this._.transform.concat([["t",b,c]]));return this};F.scale=function(b,c,d,e){if(this.removed)return this;b=m(b).split(g);b.length-1&&(c=r(b[1]),d=r(b[2]),e=r(b[3]),isNaN(d)&&(d=null),isNaN(e)&&(e=null));b=
r(b[0]);null==c&&(c=b);null==e&&(d=e);if(null==d||null==e)var f=this.getBBox(1);d=null==d?f.x+f.width/2:d;e=null==e?f.y+f.height/2:e;this.transform(this._.transform.concat([["s",b,c,d,e]]));this._.dirtyT=1;return this};F.hide=function(){!this.removed&&(this.node.style.display="none");return this};F.show=function(){!this.removed&&(this.node.style.display="");return this};F._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};F.remove=
function(){if(!this.removed){this.paper.__set__&&this.paper.__set__.exclude(this);d.eve.unbind("*.*."+this.id);d._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var b in this)this[b]="function"==typeof this[b]?d._removedFactory(b):null;this.removed=!0}};F.attr=function(b,c){if(this.removed)return this;if(null==b){var e={},f;for(f in this.attrs)this.attrs.hasOwnProperty(f)&&(e[f]=this.attrs[f]);e.gradient&&"none"==e.fill&&
(e.fill=e.gradient)&&delete e.gradient;e.transform=this._.transform;return e}if(null==c&&d.is(b,"string")){if("fill"==b&&"none"==this.attrs.fill&&this.attrs.gradient)return this.attrs.gradient;f=b.split(g);for(var e={},i=0,k=f.length;i<k;i++)b=f[i],b in this.attrs?e[b]=this.attrs[b]:d.is(this.paper.customAttributes[b],"function")?e[b]=this.paper.customAttributes[b].def:e[b]=d._availableAttrs[b];return k-1?e:e[f[0]]}if(this.attrs&&null==c&&d.is(b,"array")){e={};for(i=0,k=b.length;i<k;i++)e[b[i]]=this.attr(b[i]);
return e}null!=c&&(e={},e[b]=c);null==c&&d.is(b,"object")&&(e=b);for(i in e)T("attr."+i+"."+this.id,this,e[i]);if(e){for(i in this.paper.customAttributes)if(this.paper.customAttributes.hasOwnProperty(i)&&e.hasOwnProperty(i)&&d.is(this.paper.customAttributes[i],"function"))for(k in f=this.paper.customAttributes[i].apply(this,[].concat(e[i])),this.attrs[i]=e[i],f)f.hasOwnProperty(k)&&(e[k]=f[k]);e.text&&"text"==this.type&&(this.textpath.string=e.text);E(this,e)}return this};F.toFront=function(){!this.removed&&
this.node.parentNode.appendChild(this.node);this.paper&&this.paper.top!=this&&d._tofront(this,this.paper);return this};F.toBack=function(){if(this.removed)return this;this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),d._toback(this,this.paper));return this};F.insertAfter=function(b){if(this.removed)return this;b.constructor==d.st.constructor&&(b=b[b.length-1]);b.node.nextSibling?b.node.parentNode.insertBefore(this.node,b.node.nextSibling):
b.node.parentNode.appendChild(this.node);d._insertafter(this,b,this.paper);return this};F.insertBefore=function(b){if(this.removed)return this;b.constructor==d.st.constructor&&(b=b[0]);b.node.parentNode.insertBefore(this.node,b.node);d._insertbefore(this,b,this.paper);return this};F.blur=function(b){var c=this.node.runtimeStyle,e=c.filter;e=e.replace(i,"");0!==+b?(this.attrs.blur=b,c.filter=e+"  progid:DXImageTransform.Microsoft.Blur(pixelradius="+(+b||1.5)+")",c.margin=d.format("-{0}px 0 0 -{0}px",
y(+b||1.5))):(c.filter=e,c.margin=0,delete this.attrs.blur)};d._engine.path=function(b,c){var d=e("shape");d.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";d.coordsize="21600 21600";d.coordorigin=c.coordorigin;var f=new R(d,c),g={fill:"none",stroke:"#000"};b&&(g.path=b);f.type="path";f.path=[];f.Path="";E(f,g);c.canvas.appendChild(d);g=e("skew");g.on=!0;d.appendChild(g);f.skew=g;f.transform("");return f};d._engine.rect=function(b,c,e,f,g,i){var m=d._rectPath(c,e,f,g,i),b=b.path(m),
o=b.attrs;b.X=o.x=c;b.Y=o.y=e;b.W=o.width=f;b.H=o.height=g;o.r=i;o.path=m;b.type="rect";return b};d._engine.ellipse=function(b,c,d,e,f){b=b.path();b.X=c-e;b.Y=d-f;b.W=2*e;b.H=2*f;b.type="ellipse";E(b,{cx:c,cy:d,rx:e,ry:f});return b};d._engine.circle=function(b,c,d,e){b=b.path();b.X=c-e;b.Y=d-e;b.W=b.H=2*e;b.type="circle";E(b,{cx:c,cy:d,r:e});return b};d._engine.image=function(b,c,e,f,g,i){var m=d._rectPath(e,f,g,i),b=b.path(m).attr({stroke:"none"}),o=b.attrs,q=b.node,r=q.getElementsByTagName("fill")[0];
o.src=c;b.X=o.x=e;b.Y=o.y=f;b.W=o.width=g;b.H=o.height=i;o.path=m;b.type="image";r.parentNode==q&&q.removeChild(r);r.rotate=!0;r.src=c;r.type="tile";b._.fillpos=[e,f];b._.fillsize=[g,i];q.appendChild(r);B(b,1,1,0,0,0);return b};d._engine.text=function(b,c,f,g){var i=e("shape"),k=e("path"),p=e("textpath");c=c||0;f=f||0;g=g||"";k.v=d.format("m{0},{1}l{2},{1}",y(21600*c),y(21600*f),y(21600*c)+1);k.textpathok=!0;p.string=m(g);p.on=!0;i.style.cssText="position:absolute;left:0;top:0;width:1px;height:1px";
i.coordsize="21600 21600";i.coordorigin="0 0";var o=new R(i,b),q={fill:"#000",stroke:"none",font:d._availableAttrs.font,text:g};o.shape=i;o.path=k;o.textpath=p;o.type="text";o.attrs.text=m(g);o.attrs.x=c;o.attrs.y=f;o.attrs.w=1;o.attrs.h=1;E(o,q);i.appendChild(p);i.appendChild(k);b.canvas.appendChild(i);b=e("skew");b.on=!0;i.appendChild(b);o.skew=b;o.transform("");return o};d._engine.setSize=function(b,c){var e=this.canvas.style;this.width=b;this.height=c;b==+b&&(b+="px");c==+c&&(c+="px");e.width=
b;e.height=c;e.clip="rect(0 "+b+" "+c+" 0)";this._viewBox&&d._engine.setViewBox.apply(this,this._viewBox);return this};d._engine.setViewBox=function(b,c,e,f,g){d.eve("setViewBox",this,this._viewBox,[b,c,e,f,g]);var i=this.width,m=this.height,o=1/z(e/i,f/m),q,r;g&&(q=m/f,r=i/e,e*q<i&&(b-=(i-e*q)/2/q),f*r<m&&(c-=(m-f*r)/2/r));this._viewBox=[b,c,e,f,!!g];this._viewBoxShift={dx:-b,dy:-c,scale:o};this.forEach(function(b){b.transform("...")});return this};var e;d._engine.initWin=function(b){var c=b.document;
c.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{!c.namespaces.rvml&&c.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),e=function(b){return c.createElement("<rvml:"+b+' class="rvml">')}}catch(d){e=function(b){return c.createElement("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};d._engine.initWin(d._g.win);d._engine.create=function(){var b=d._getContainer.apply(0,arguments),c=b.container,e=b.height,f=b.width,g=b.x,b=b.y;if(!c)throw Error("VML container not found.");
var i=new d._Paper,m=i.canvas=d._g.doc.createElement("div"),o=m.style;g=g||0;b=b||0;f=f||512;e=e||342;i.width=f;i.height=e;f==+f&&(f+="px");e==+e&&(e+="px");i.coordsize="21600000 21600000";i.coordorigin="0 0";i.span=d._g.doc.createElement("span");i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";m.appendChild(i.span);o.cssText=d.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",
f,e);1==c?(d._g.doc.body.appendChild(m),o.left=g+"px",o.top=b+"px",o.position="absolute"):c.firstChild?c.insertBefore(m,c.firstChild):c.appendChild(m);i.renderfix=function(){};return i};d.prototype.clear=function(){d.eve("clear",this);this.canvas.innerHTML="";this.span=d._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};d.prototype.remove=function(){d.eve("remove",
this);this.canvas.parentNode.removeChild(this.canvas);for(var b in this)this[b]="function"==typeof this[b]?d._removedFactory(b):null;return!0};var o=d.st,f;for(f in F)F.hasOwnProperty(f)&&!o.hasOwnProperty(f)&&(o[f]=function(b){return function(){var c=arguments;return this.forEach(function(d){d[b].apply(d,c)})}}(f))}(window.Raphael);var ThemeModel=function(d,m,r,C){this.model=d;this.paper=d.paper;this.theme=m;m=r/10;d=0.6*m;this.selx=r/2;this.sely=C-0.7*m;this.icon=this.paper.image("themes/"+this.theme+"/icon.png",this.selx-d/2,this.sely-d/2,d,d);this.selector=this.paper.image("themes/"+this.theme+"/selector.png",this.selx-m/2,this.sely-m/2,m,m);this.icon.hide();this.selector.hide();var d=m/4,y=0.55*m,z=[{type:"text","font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx-0.7*y,y:this.sely-0.7*y,"text-anchor":"end"},
{type:"text","font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx-y,y:this.sely,"text-anchor":"end"},{type:"text","font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx-0.7*y,y:this.sely+0.7*y,"text-anchor":"end"},{type:"text","font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx+0.7*y,y:this.sely+0.7*y,"text-anchor":"start"},{type:"text","font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx+y,y:this.sely,"text-anchor":"start"},{type:"text",
"font-size":d,"font-family":"Arial","font-weight":"bold",x:this.selx+0.7*y,y:this.sely-0.7*y,"text-anchor":"start"}];this.optionShadow=this.paper.add(z);this.options=this.paper.add(z);for(z=0;z<this.options.length;z++){var O=0;(function(d,g,m,r){var w=m[r];w.node.style.cursor="pointer";w.attr({fill:"rgb(250,250,250)"});w.click(function(){d.selectOption(r)}).mouseover(function(){m[O].animate({fill:"rgb(250,250,250)"},200);w.animate({fill:"rgb(255,166,10)"},200);w.toFront();w[0].style.display="block";
g.safari();O=r}).mouseout(function(){w.animate({fill:"rgb(250,250,250)"},200);w.toFront();g.safari()});w.hide()})(this.model,this.paper,this.options,z);this.optionShadow[z].attr({fill:"rgba(0,0,0,0.7)"});this.optionShadow[z].translate(1,1);this.optionShadow[z].hide()}m*=1.5;this.play=this.paper.image("themes/"+this.theme+"/play.png",r/2-m/2,C/2-m/2,m,m);this.play.click(this.model.playClicked.bind(this.model));this.play.node.style.cursor="pointer";this.play.hide();this.eventIndicator=this.paper.rect(0,
C,r,0).attr({fill:"90-#fa6900:0-#fa6900:100","fill-opacity":0,"stroke-width":0});this.eventIndicator.data("h",y);this.eventIndicator.data("y",C-y);this.eventIndicator.hide();r=d/2;C-=1.5*d;this.playControl=this.paper.image("themes/"+this.theme+"/play_control.png",r,C,d,d).attr({opacity:0});this.pauseControl=this.paper.image("themes/"+this.theme+"/pause_control.png",r,C,d,d).attr({opacity:0});this.playControl.hide();this.pauseControl.hide();this.playControl.click(function(){this.playControl.hide();
this.pauseControl.show();this.pauseControl.attr({opacity:1});this.playControl.attr({opacity:0});this.model.playVideo()}.bind(this));this.pauseControl.click(function(){this.pauseControl.hide();this.playControl.show();this.playControl.attr({opacity:1});this.pauseControl.attr({opacity:0});this.model.pauseVideo()}.bind(this));this.controlsHidden=this.eventIndicatorHidden=!0};ThemeModel.prototype.rotateSelector=function(d){this.selector.attr({transform:"r"+d})};
ThemeModel.prototype.showOptions=function(d){this.selector.show();this.icon.show();for(var m=0;m<d.length;m++)void 0!=d[m]&&(this.options[m].attr({text:d[m]}),this.options[m].show(),this.optionShadow[m].attr({text:d[m]}),this.optionShadow[m].show())};ThemeModel.prototype.hideOptions=function(){this.selector.hide();this.icon.hide();for(var d=0;6>d;d++)this.options[d].hide(),this.optionShadow[d].hide()};
ThemeModel.prototype.showControls=function(d){if(!0==this.controlsHidden)d?(this.playControl.show(),this.playControl.animate({opacity:1},200,"<>")):(this.pauseControl.show(),this.pauseControl.animate({opacity:1},200,"<>")),this.controlsHidden=!1};ThemeModel.prototype.hideControls=function(d){if(!1==this.controlsHidden)d?this.playControl.animate({opacity:0},500,"<>",this.hide):this.pauseControl.animate({opacity:0},500,"<>",this.hide),this.controlsHidden=!0};ThemeModel.prototype.showHomeScreen=function(){this.play.show()};
ThemeModel.prototype.hideHomeScreen=function(){this.play.hide()};ThemeModel.prototype.showEventIndicator=function(){this.eventIndicatorHidden=!0;var d=this.eventIndicator.data("h"),m=this.eventIndicator.data("y");this.eventIndicator.show();this.eventIndicator.animate({height:d,y:m},500,"<>");this.eventIndicatorHidden=!1};
ThemeModel.prototype.hideEventIndicator=function(){if(!1==this.eventIndicatorHidden){var d=this.eventIndicator.data("h");this.eventIndicator.animate({height:0,y:this.eventIndicator.data("y")+d},500,"<>",this.hide);this.eventIndicatorHidden=!0}};
